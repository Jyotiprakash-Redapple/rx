(this.webpackChunkpokerComponent=this.webpackChunkpokerComponent||[]).push([[484],{5358:(t,e,s)=>{var i={"./af":5177,"./af.js":5177,"./ar":1509,"./ar-dz":1488,"./ar-dz.js":1488,"./ar-kw":8676,"./ar-kw.js":8676,"./ar-ly":2353,"./ar-ly.js":2353,"./ar-ma":4496,"./ar-ma.js":4496,"./ar-sa":2682,"./ar-sa.js":2682,"./ar-tn":9756,"./ar-tn.js":9756,"./ar.js":1509,"./az":5533,"./az.js":5533,"./be":8959,"./be.js":8959,"./bg":7777,"./bg.js":7777,"./bm":4903,"./bm.js":4903,"./bn":1290,"./bn-bd":7357,"./bn-bd.js":7357,"./bn.js":1290,"./bo":1545,"./bo.js":1545,"./br":1470,"./br.js":1470,"./bs":4429,"./bs.js":4429,"./ca":7306,"./ca.js":7306,"./cs":6464,"./cs.js":6464,"./cv":3635,"./cv.js":3635,"./cy":4226,"./cy.js":4226,"./da":3601,"./da.js":3601,"./de":7853,"./de-at":6111,"./de-at.js":6111,"./de-ch":4697,"./de-ch.js":4697,"./de.js":7853,"./dv":708,"./dv.js":708,"./el":4691,"./el.js":4691,"./en-au":3872,"./en-au.js":3872,"./en-ca":8298,"./en-ca.js":8298,"./en-gb":6195,"./en-gb.js":6195,"./en-ie":6584,"./en-ie.js":6584,"./en-il":5543,"./en-il.js":5543,"./en-in":9033,"./en-in.js":9033,"./en-nz":9402,"./en-nz.js":9402,"./en-sg":3004,"./en-sg.js":3004,"./eo":2934,"./eo.js":2934,"./es":7650,"./es-do":838,"./es-do.js":838,"./es-mx":7730,"./es-mx.js":7730,"./es-us":6575,"./es-us.js":6575,"./es.js":7650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":527,"./fi.js":527,"./fil":5995,"./fil.js":5995,"./fo":2477,"./fo.js":2477,"./fr":5498,"./fr-ca":6435,"./fr-ca.js":6435,"./fr-ch":7892,"./fr-ch.js":7892,"./fr.js":5498,"./fy":7071,"./fy.js":7071,"./ga":1734,"./ga.js":1734,"./gd":217,"./gd.js":217,"./gl":7329,"./gl.js":7329,"./gom-deva":2124,"./gom-deva.js":2124,"./gom-latn":3383,"./gom-latn.js":3383,"./gu":5050,"./gu.js":5050,"./he":1713,"./he.js":1713,"./hi":3861,"./hi.js":3861,"./hr":6308,"./hr.js":6308,"./hu":609,"./hu.js":609,"./hy-am":7160,"./hy-am.js":7160,"./id":4063,"./id.js":4063,"./is":9374,"./is.js":9374,"./it":8383,"./it-ch":1827,"./it-ch.js":1827,"./it.js":8383,"./ja":3827,"./ja.js":3827,"./jv":9722,"./jv.js":9722,"./ka":1794,"./ka.js":1794,"./kk":7088,"./kk.js":7088,"./km":6870,"./km.js":6870,"./kn":4451,"./kn.js":4451,"./ko":3164,"./ko.js":3164,"./ku":8174,"./ku.js":8174,"./ky":8474,"./ky.js":8474,"./lb":9680,"./lb.js":9680,"./lo":5867,"./lo.js":5867,"./lt":5766,"./lt.js":5766,"./lv":9532,"./lv.js":9532,"./me":8076,"./me.js":8076,"./mi":1848,"./mi.js":1848,"./mk":306,"./mk.js":306,"./ml":3739,"./ml.js":3739,"./mn":9053,"./mn.js":9053,"./mr":6169,"./mr.js":6169,"./ms":3386,"./ms-my":2297,"./ms-my.js":2297,"./ms.js":3386,"./mt":7075,"./mt.js":7075,"./my":2264,"./my.js":2264,"./nb":2274,"./nb.js":2274,"./ne":8235,"./ne.js":8235,"./nl":2572,"./nl-be":3784,"./nl-be.js":3784,"./nl.js":2572,"./nn":4566,"./nn.js":4566,"./oc-lnc":9330,"./oc-lnc.js":9330,"./pa-in":9849,"./pa-in.js":9849,"./pl":4418,"./pl.js":4418,"./pt":9834,"./pt-br":8303,"./pt-br.js":8303,"./pt.js":9834,"./ro":4457,"./ro.js":4457,"./ru":2271,"./ru.js":2271,"./sd":1221,"./sd.js":1221,"./se":3478,"./se.js":3478,"./si":7538,"./si.js":7538,"./sk":5784,"./sk.js":5784,"./sl":6637,"./sl.js":6637,"./sq":6794,"./sq.js":6794,"./sr":5719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":5719,"./ss":6e3,"./ss.js":6e3,"./sv":1011,"./sv.js":1011,"./sw":748,"./sw.js":748,"./ta":1025,"./ta.js":1025,"./te":1885,"./te.js":1885,"./tet":8861,"./tet.js":8861,"./tg":6571,"./tg.js":6571,"./th":5802,"./th.js":5802,"./tk":9527,"./tk.js":9527,"./tl-ph":9231,"./tl-ph.js":9231,"./tlh":1052,"./tlh.js":1052,"./tr":5096,"./tr.js":5096,"./tzl":9846,"./tzl.js":9846,"./tzm":1765,"./tzm-latn":7711,"./tzm-latn.js":7711,"./tzm.js":1765,"./ug-cn":8414,"./ug-cn.js":8414,"./uk":6618,"./uk.js":6618,"./ur":158,"./ur.js":158,"./uz":7609,"./uz-latn":2475,"./uz-latn.js":2475,"./uz.js":7609,"./vi":1135,"./vi.js":1135,"./x-pseudo":4051,"./x-pseudo.js":4051,"./yo":2218,"./yo.js":2218,"./zh-cn":2648,"./zh-cn.js":2648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":1541,"./zh-mo.js":1541,"./zh-tw":304,"./zh-tw.js":304};function a(t){var e=n(t);return s(e)}function n(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=n,t.exports=a,a.id=5358},2843:(t,e,s)=>{"use strict";var i=s(4440),a=s.n(i),n=s(8904),o=s.n(n);const r=new class{constructor(){}IsEmpty(t){return null==t||""===this.Trim(t)||""===this.Trim(t)||0===t.length}Trim(t){return String(t).replace(/^\s+|\s+$/gm,"")}GetScale(t,e,s,i){const a=s/t,n=i/e;return a<n?a:n}ButtonScaleTween(t,e,s){t.add.tween({targets:[e],scaleX:.95*s,scaleY:.95*s,ease:"Linear",duration:50,onComplete:this.OnCompleteHandler,onCompleteParams:[e,s]})}OnCompleteHandler(t,e,s,i){this.parent.scene.add.tween({targets:[s],scaleX:1*i,scaleY:1*i,ease:"Linear",duration:50})}GetCurrentBackCardFrame(t){let e=null;switch(t){case"back_card_0":default:e=52;break;case"back_card_1":e=53;break;case"back_card_2":e=54;break;case"back_card_3":e=55}return e}GetGameTypeByName(t){return new Map([["nlh","No Limit Hold'em"],["plh","Pot Limit Hold'em"],["nlo","No Limit Omaha"],["plo","Pot Limit Omaha"]]).get(t)}},l=[{width:1080,height:1920,path:"1080x1920"}];function h(t,e){const s=l[e].width;return Math.abs(t-s)}function u(t,e){const s=l[e].height;return Math.abs(t-s)}const d=function(){if(1===l.length)return l[0];const t=window.screen.width,e=window.screen.height;let s=0,i=h(t,0),a=u(e,0);for(let n=0;n<l.length;n++){const o=h(t,n),r=u(e,n);o<=i&&r<=a&&(i=o,a=r,s=n)}return l[s]}(),c=new class{constructor(){this.game=null,this.scaleFactor=null,this.isMobile=null,this.currentAspectRatio=null,this.originalAspectRatio=null,this.currentRatio=null,this.platformUrl="https://staginglocal.redappletech.com/poker-web/",this.gameCategory=null,this.isTournamentCompleted=!1,this.POST_OR_GET_GAME_EVENTS={LEAVE_TABLE:"LEAVE_TABLE",PLAY_PAUSE:"PLAY_PAUSE",PROGRESS:"PROGRESS",SKIP:"SKIP",FRAME_RATE:"FRAME_RATE",FORWARD:"FORWARD",BACKWARD:"BACKWARD",REPLAY:"REPLAY",STOP:"STOP",REPLAY_END:"REPLAY_END"},this.SetLanguage()}SetLanguage(){this.ERROR_MSG_TEXT="Sorry ! There are some value not found...",this.PLAY_TEXT="PLAY",this.FOLD_TEXT="Fold",this.CALL_TEXT="CALL",this.CHECK_TEXT="CHECK",this.RAISE_TEXT="RAISE",this.HALF_TEXT="HALF",this.MIN_TEXT="MIN",this.HALF_POT_TEXT="1/2 POT",this.THREE_FOURTH_POT_TEXT="3/4 POT",this.POT_TEXT="POT",this.ALL_IN_TEXT="ALL IN",this.VERSION_TEXT="1.0.8",this.GAME_TURN_TIME=null}},p=new class{constructor(){this.authToken=null,this.tableId=null,this.maxPlayerCount=null,this.buyInAmount=null,this.playerData=null,this.roomDetailsData=null,this.playersData=null,this.localPlayerId=null,this.localPlayersData=null,this.localPlayerIndex=null,this.seatIndex=null,this.sitOutPlayerData=null,this.smallBigBlindPlayerIdData=null,this.smallBlindAmount=null,this.bigBlindAmount=null,this.smallBlindPlayerId=null,this.bigBlindPlayerId=null,this.blindsData=null,this.preFlopData=null,this.currentBetAndButtonData=null,this.updatePotData=null,this.dealFlopRoundData=null,this.dealTurnRoundData=null,this.dealRiverRoundData=null,this.showDownRoundData=null,this.timerData=null,this.replayHandData=null,this.reconnectData=null,this.isSound=null,this.isMusic=null,this.isUserVerified=!1,this.currentUserBalance=null,this.gameType=null,this.currentPotTextBalance=null,this.localUserName=null,this.recieveMsgData=null,this.gameStateData=null,this.localPlayerRemoteId=null,this.playbackId=null,this.updateChipsData=null}GetAuthToken(){return this.authToken}SetAuthToken(t){this.authToken=null,this.authToken=t}GetGameId(){return this.gameId}SetGameId(t){this.gameId=null,this.gameId=t}GetTableId(){return this.tableId}SetTableId(t){this.tableId=null,this.tableId=t}GetType(){return this.type}SetType(t){this.type=null,this.type=t}SetBuyInAmount(t){this.buyInAmount=t}GetBuyInAmount(){return this.buyInAmount}SetMinBuyInAmount(t){this.minBuyInAmount=t}GetMinBuyInAmount(){return this.minBuyInAmount}SetMaxBuyInAmount(t){this.maxBuyInAmount=t}GetMaxBuyInAmount(){return this.maxBuyInAmount}SetRoomName(t){this.roomName=t}GetRoomName(){return this.roomName}SetRoomDetailsData(t){this.roomDetailsData=t}GetRoomDetailsData(){return this.roomDetailsData}SetPlayersData(t){this.playersData=t}GetPlayersData(){return this.playersData}SetLocalPlayerData(t){this.localPlayersData=t}GetLocalPlayerData(){return this.localPlayersData}UpdateRoomDetailsData(t){this.roomDetailsData.push(t)}SetSeatIndex(t){this.seatIndex=t}GetSeatIndex(){return this.seatIndex}SetSitOutPlayerDetails(t){this.sitOutPlayerData=t}GetSitOutPlayerDetails(){return this.sitOutPlayerData}SetSmallBigBlindPlayerData(t){this.smallBigBlindPlayerIdData=t}GetSmallBigBlindPlayerData(){return this.smallBigBlindPlayerIdData}SetSmallBlindPlayerId(t){for(let e=0;e<t.blinds.length;e++)null!==t.blinds[e]&&"small-blind"===t.blinds[e].blind&&(this.smallBlindPlayerId=t.blinds[e].user_id)}GetSmallBlindPlayerId(){return this.smallBlindPlayerId}SetBigBlindPlayerId(t){for(let e=0;e<t.blinds.length;e++)null!==t.blinds[e]&&"big-blind"===t.blinds[e].blind&&(this.bigBlindPlayerId=t.blinds[e].user_id)}GetBigBlindPlayerId(){return this.bigBlindPlayerId}SetUpdateBlindsData(t){this.blindsData=t}GetUpdateBlindsData(){return this.blindsData}SetPreFlopRoundData(t){this.preFlopData=t}GetPreFlopRoundData(){return this.preFlopData}SetLocalPlayerId(t){this.localPlayerId=t}GetLocalPlayerID(){return this.localPlayerId}SetLocalPlayerIndex(t){this.localPlayerIndex=t}GetlocalPlayerIndex(){return this.localPlayerIndex}SetTurnData(t){this.currentBetAndButtonData=t}GetTurnData(){return this.currentBetAndButtonData}SetTimerData(t){this.timerData=t}GetTimerData(){return this.timerData}SetUpdatePotValueData(t){this.updatePotData=t}GetUpdatePotValueData(){return this.updatePotData}SetDealFlopRoundData(t){this.dealFlopRoundData=t}GetDealFlopRoundData(){return this.dealFlopRoundData}SetDealTurnRoundData(t){this.dealTurnRoundData=t}GetDealTurnRoundData(){return this.dealTurnRoundData}SetDealRiverRoundData(t){this.dealRiverRoundData=t}GetDealRiverRoundData(){return this.dealRiverRoundData}SetShowDownRoundData(t){this.showDownRoundData=t}GetShowDownRoundData(){return this.showDownRoundData}SetReplayHandData(t){this.replayHandData=t}GetReplayHandData(){return this.replayHandData}SetReconnectData(t){this.reconnectData=t}GetReconnectData(){return this.reconnectData}SetRecieveMsgData(t){this.recieveMsgData=t}GetRecieveMsgData(){return this.recieveMsgData}SetisMusic(t){this.isMusic=t}GetisMusic(){return this.isMusic}SetCurrentUserBalance(t){this.currentUserBalance=t}GetCurrentUserBalance(){return this.currentUserBalance}SetCurrentPotTextBalance(t){this.currentPotTextBalance=t}GetCurrentPotTextBalance(){return this.currentPotTextBalance}SetGameType(t){this.gameType=t}GetGameType(){return this.gameType}SetLocalUserName(t){this.localUserName=t}GetLocalUserName(){return this.localUserName}SetGameStateData(t){this.gameStateData=t}GetGameStateData(){return this.gameStateData}SetLocalPlayerRemoteId(t){this.localPlayerRemoteId=t}GetLocalPlayerRemoteID(){return this.localPlayerRemoteId}SetPlaybackID(t){this.playbackId=t}GetPlaybackID(){return this.playbackId}SetUpdateChipsData(t){this.updateChipsData=t}GetUpdateChipsData(){return this.updateChipsData}GetCardSuit(t){switch(t){case"H":return 0;case"D":return 1;case"C":return 2;case"S":return 3}}GetCardNumber(t){return{A:0,2:1,3:2,4:3,5:4,6:5,7:6,8:7,9:8,10:9,J:10,Q:11,K:12}[t]}GetActualCardFrameIndex(t){if(null!==t){const e=t.split(""),s=e.length>2?e[0]+e[1]:e[0],i=e.length>2?e[2]:e[1],a=this.GetCardNumber(s);return 13*this.GetCardSuit(i)+a}}};class m extends a().Scene{constructor(){super("PreloadScene"),this.progressBar=null,this.loadingText=null,this.numberOfTable=5,this.numberOfProfilePic=10,this.numberOfFrontCard=4,this.fonts={BAHNSCHRIFT:null,"Poppins-Regular":null,"Poppins-SemiBold":null,"Poppins-Medium":null}}preload(){this.device=c.isMobile?"OnMobile":"OnDesktop",this.load.spine("coin","assets/images/spine/coin.json","assets/images/spine/coin.atlas"),this.load.spine("confetti","assets/images/spine/confetti.json","assets/images/spine/confetti.atlas")}create(){this.game.events.on("resize",this.resize,this),this.loadingText=this.add.text(Math.round(this.scale.width/2),Math.round(this.scale.height/1.1),"Loading: ",{fontFamily:"Poppins-Regular",fontSize:"42px",fill:"#FFF",fontStyle:"normal",align:"center"}).setOrigin(.5),this.LoadFonts(),this.resize(window.innerWidth,window.innerHeight)}AddTextures(t){const e=t.id;this.textures.exists(e)||this.textures.addImage(e,t),"background"===e?(this.splashBg=this.add.image(0,0,e).setOrigin(0),this.ResizeBackground(window.innerWidth,window.innerHeight)):"progress_base"===e?(this.progressBase=this.add.image(0,0,e).setOrigin(.5),this.ResizeProgressBase(window.innerWidth,window.innerHeight)):"progress_bar"===e?(this.progressBar=this.add.image(0,0,"progress_bar").setOrigin(.5),this.progressBar.setCrop(0,0,0,this.progressBar.height),this.ResizeProgressBar(window.innerWidth,window.innerHeight)):console.log("Element doesnt exist",t,t.id)}LoadFonts(){const t=Object.getOwnPropertyNames(this.fonts);t.forEach(((e,s)=>{const i=s>=t.length-1;this.fonts[e]=new(o())(e),this.fonts[e].load().then(this.FontLoadSuccess.bind(this,e,i),this.FontLoadError.bind(this,e))}))}FontLoadSuccess(t,e){e&&this.LoadAssests()}FontLoadError(){}LoadAssests(){this.load.on("progress",this.LoadProgress,this),this.load.on("complete",this.OnComplete,{scene:this.scene});const t=1155/13;this.load.image("game_bg","assets/images/common/background.png"),this.load.spritesheet("toggle_button_normal","assets/images/popups/toggle_button.png",{frameWidth:94.5,frameHeight:50}),this.load.spritesheet("toggle_button_hover","assets/images/popups/toggle_button.png",{frameWidth:94.5,frameHeight:50}),this.load.spritesheet("toggle_button_disabled","assets/images/popups/toggle_button.png",{frameWidth:94.5,frameHeight:50}),this.load.audio("card","assets/sounds/card.mp3"),this.load.image("pot_value_base","assets/images/gameScene/pot_value_base.png"),this.load.image("pot_value_chip","assets/images/gameScene/pot_value_chip.png"),this.load.image("call_button_normal","assets/images/gameScene/call_button_base.png"),this.load.image("call_button_hover","assets/images/gameScene/call_button_base.png"),this.load.image("call_button_disabled","assets/images/gameScene/call_button_base.png");for(let t=0;t<this.numberOfTable;t++)this.load.image(`table_bg_${t}`,`assets/images/gameScene/table_bg_${t}.png`);this.load.image("raise_half_pot_button_normal","assets/images/gameScene/raise_half_pot_button.png"),this.load.image("raise_half_pot_button_hover","assets/images/gameScene/raise_half_pot_button.png"),this.load.image("raise_half_pot_button_disabled","assets/images/gameScene/raise_half_pot_button.png"),this.load.image("select_raise_half_pot_button_normal","assets/images/gameScene/select_raise_half_pot_button.png"),this.load.image("select_raise_half_pot_button_hover","assets/images/gameScene/select_raise_half_pot_button.png"),this.load.image("select_raise_half_pot_button_disabled","assets/images/gameScene/select_raise_half_pot_button.png"),this.load.image("raise_popup_cancel_button_normal","assets/images/gameScene/raise_popup_cancel_button.png"),this.load.image("raise_popup_cancel_button_hover","assets/images/gameScene/raise_popup_cancel_button.png"),this.load.image("raise_popup_cancel_button_disabled","assets/images/gameScene/raise_popup_cancel_button.png"),this.load.image("leave_button_normal","assets/images/gameScene/leave_button.png"),this.load.image("leave_button_hover","assets/images/gameScene/leave_button.png"),this.load.image("leave_button_disabled","assets/images/gameScene/leave_button.png"),this.load.image("setting_button_normal","assets/images/gameScene/setting_button.png"),this.load.image("setting_button_hover","assets/images/gameScene/setting_button.png"),this.load.image("setting_button_disabled","assets/images/gameScene/setting_button.png"),this.load.image("waiting_sit_button_normal","assets/images/gameScene/waiting_sit_button.png"),this.load.image("waiting_sit_button_hover","assets/images/gameScene/waiting_sit_button.png"),this.load.image("waiting_sit_button_disabled","assets/images/gameScene/waiting_sit_button.png");for(let t=0;t<this.numberOfProfilePic;t++)this.load.image(`profile_pic_${t}`,`assets/images/gameScene/player/profile_pic_${t}.png`);this.load.image("user_base","assets/images/gameScene/player/user_base.png"),this.load.image("user_allin_decision_base","assets/images/gameScene/player/allin_decision_base.png"),this.load.image("user_called_decision_base","assets/images/gameScene/player/call_decision_base.png"),this.load.image("user_raised_decision_base","assets/images/gameScene/player/raise_decision_base.png"),this.load.image("user_check_decision_base","assets/images/gameScene/player/check_decision_base.png"),this.load.image("user_fold_decision_base","assets/images/gameScene/player/fold_decision_base.png"),this.load.image("user_name_base","assets/images/gameScene/player/user_name_base.png"),this.load.image("localUser_name_base","assets/images/gameScene/player/localUser_name_base.png"),this.load.image("user_name_bar","assets/images/gameScene/player/user_name_bar.png"),this.load.image("user_ring","assets/images/gameScene/player/user_ring.png"),this.load.image("user_win_ring","assets/images/gameScene/player/win_glow_ring.png"),this.load.image("user_win_effect","assets/images/gameScene/player/win_glow_effect.png"),this.load.image("user_role_base","assets/images/gameScene/player/blind_delear_base.png"),this.load.image("poker_chip","assets/images/gameScene/player/poker_chip.png"),this.load.image("black_layer","assets/images/gameScene/player/black_layer.png"),this.load.image("green_layer","assets/images/gameScene/player/green_layer.png"),this.load.image("sit_in_arrow","assets/images/gameScene/player/sit_in_arrow.png"),this.load.image("raise_base","assets/images/gameScene/raise_base.png"),this.load.image("raise_slider_chip","assets/images/gameScene/raise_slider_chip.png"),this.load.image("raise_bar","assets/images/gameScene/raise_bar.png"),this.load.image("raise_slider","assets/images/gameScene/raise_slider.png"),this.load.image("raise_slider_base","assets/images/gameScene/raise_slider_base.png"),this.load.image("replay_base","assets/images/gameScene/replay_base.png");for(let e=0;e<this.numberOfFrontCard;e++)this.load.spritesheet(`front_card_${e}`,`assets/images/gameScene/player/front_card_${e}.png`,{frameWidth:t,frameHeight:130});this.load.image("card_outline","assets/images/card_outline.png"),this.load.spritesheet("loading_wheel","assets/images/popups/loading_wheel.png",{frameWidth:157,frameHeight:157}),this.load.image("overlay","assets/images/popups/overlay.png"),this.load.image("popup_base","assets/images/popups/popup_base.png"),this.load.image("buy_in_popup_yesBut_normal","assets/images/popups/buy_in_popup_yesBut.png"),this.load.image("buy_in_popup_yesBut_hover","assets/images/popups/buy_in_popup_yesBut.png"),this.load.image("buy_in_popup_yesBut_disabled","assets/images/popups/buy_in_popup_yesBut.png"),this.load.image("buy_in_popup_noBut_normal","assets/images/popups/buy_in_popup_noBut.png"),this.load.image("buy_in_popup_noBut_hover","assets/images/popups/buy_in_popup_noBut.png"),this.load.image("buy_in_popup_noBut_disabled","assets/images/popups/buy_in_popup_noBut.png"),this.load.image("buy_in_slider_chip","assets/images/popups/buy_in_slider_chip.png"),this.load.image("close_button_normal","assets/images/popups/close_button.png"),this.load.image("close_button_hover","assets/images/popups/close_button.png"),this.load.image("close_button_disabled","assets/images/popups/close_button.png"),this.load.image("buyin_bottom_base_normal","assets/images/popups/buyin_bottom_base.png"),this.load.image("buyin_bottom_base_hover","assets/images/popups/buyin_bottom_base.png"),this.load.image("buyin_bottom_base_disabled","assets/images/popups/buyin_bottom_base.png"),this.load.image("poker_chip_popup","assets/images/popups/poker_chip_popup.png"),this.load.image("buyin_popup_base","assets/images/popups/buyin_popup_base.png"),this.load.image("buy_in_amount_base","assets/images/popups/buy_in_amount_base.png"),this.load.image("buy_in_slider_base","assets/images/popups/buy_in_slider_base.png"),this.load.image("buy_in_slider_bar","assets/images/popups/buy_in_slider_bar.png"),this.load.image("buy_in_minmaxamount_base_normal","assets/images/popups/buy_in_minmaxamount_base.png"),this.load.image("buy_in_minmaxamount_base_hover","assets/images/popups/buy_in_minmaxamount_base.png"),this.load.image("buy_in_minmaxamount_base_disabled","assets/images/popups/buy_in_minmaxamount_base.png"),this.load.image("chat_icon_normal","assets/images/popups/chat_icon.png"),this.load.image("chat_icon_hover","assets/images/popups/chat_icon.png"),this.load.image("chat_icon_disabled","assets/images/popups/chat_icon.png"),this.load.image("chat_hide_button_normal","assets/images/popups/chat_hide_button.png"),this.load.image("chat_hide_button_hover","assets/images/popups/chat_hide_button.png"),this.load.image("chat_hide_button_disabled","assets/images/popups/chat_hide_button.png"),this.load.image("send_button_normal","assets/images/popups/send_button.png"),this.load.image("send_button_hover","assets/images/popups/send_button.png"),this.load.image("send_button_disabled","assets/images/popups/send_button.png"),this.load.image("inputText_base","assets/images/popups/inputText_base.png"),this.load.image("chat_base","assets/images/popups/chat_base.png"),this.load.image("chat_base_text","assets/images/popups/chat_base_text.png"),this.load.start()}LoadProgress(t){this.progressBar&&this.progressBar.setCrop(0,0,this.progressBar.width*t,this.progressBar.height),t*=100,this.loadingText.setText(`Loading: ${parseInt(t)} %`)}OnComplete(){setTimeout((()=>{this.scene.stop("PreloadScene"),this.scene.scene.TransitToSpecificScene()}),1e3)}TransitToSpecificScene(){const t=p.GetType(),e=p.GetAuthToken();switch(t){case"cash":case"tournament":this.scene.start("GameScene");break;case"replay":this.scene.start("ReplayHandScene");break;default:this.scene.start("GameErrorScene",{type:t,auth:e})}}ResizeBackground(t,e){this.splashBg.setDisplaySize(t,e)}ResizeProgressBase(t,e){const s=r.GetScale(d.width,d.height,t,e);this.progressBase.setScale(s),this.progressBase.setPosition(t/2,e/1.1)}ResizeProgressBar(t,e){const s=r.GetScale(d.width,d.height,t,e);this.progressBar&&(this.progressBar.setScale(s),this.progressBar.setPosition(t/2,e/1.102))}resize(t,e){const s=r.GetScale(d.width,d.height,t,e);this.splashBg&&this.ResizeBackground(t,e),this.progressBase&&this.ResizeProgressBase(t,e),this.progressBar&&this.ResizeProgressBar(t,e),this.loadingText.setScale(s),this.loadingText.setPosition(t/2,e/1.07)}}const y=class{constructor(t){this.scene=t,this.tableContainer=null,this.tableAnimContainer=null,this.tableCardArray=[],this.potSplitArray=[],this.newScaleFactor=null,this.tableCardOutlineArray=[],this.bgConstantValueObj={tableBgPosX:-519,tableBgPosY:-220},this.potBaseConstantValueObj={potValueBasePosX:20,potValueBasePosY:-244},this.potSplitScale=1,this.tableCardConstantValueObj={numberOfCards:5,tableCardScale:1,tableCardStartPosX:-190,tableCardStartPosY:-80,tableCardGapX:7,tableCardRotationTweenScaleX:0,tableCardRotationTweenDuration:200},this.cardOutlineConstantValueObj={tableCardOutlineScale:.8,tableCardOutlineTweenScale:.85,tableCardOutlineTweenDuration:300,outlineGapX:-2},this.create()}create(){this.tableContainer=this.scene.add.container(window.innerWidth/2,window.innerHeight/2),this.tableAnimContainer=this.scene.add.container(window.innerWidth/2,window.innerHeight/2).setDepth(3),this.CreateTableBg(),this.CreatePotValueArea(),this.CreateTableCard();try{const t=p.GetLocalPlayerData();t.settings.table_theme.felt_color?this.SetTableBgFromServer(t.settings.table_theme.felt_color):this.SetTableBgFromServer("table_bg_0"),t.settings.table_theme.front_deck?this.SetTableCardImageFromServer(t.settings.table_theme.front_deck):this.SetTableCardImageFromServer("front_card_0"),t.settings.table_theme.back_deck?this.SetBackCardImageFromServer(t.settings.table_theme.back_deck):this.SetBackCardImageFromServer("back_card_0")}catch(t){console.log("error: ",t)}}CreateTableBg(){this.tableBg=this.scene.add.image(0,-44,"table_bg_0").setOrigin(.5),this.tableContainer.add(this.tableBg)}SetTableBgFromServer(t){this.tableBg.setTexture(t)}CreatePotValueArea(){this.potValueBase=this.scene.add.image(this.potBaseConstantValueObj.potValueBasePosX,this.potBaseConstantValueObj.potValueBasePosY,"pot_value_base").setOrigin(.5),this.potValueChip=this.scene.add.image(this.potValueBase.x-67.5,this.potValueBase.y+8,"pot_value_chip").setOrigin(.5),this.animChip=this.scene.add.spine(this.potValueChip.x,this.potValueChip.y,"coin","animation",!1).setVisible(!1).setScale(.2),this.winAnim=this.scene.add.spine(0,0,"confetti","animation",!1).setVisible(!1);const t={fontFamily:"Poppins-Medium",fontSize:"26px",fill:"#FFF3F2",fontStyle:"bold",align:"center",wordWrap:{width:this.potValueBase.width-5}};this.potValueText=this.scene.add.text(this.potValueBase.x+12,this.potValueBase.y+2,"",t).setOrigin(.5),this.tableContainer.add([this.potValueBase,this.potValueChip,this.potValueText]),this.tableAnimContainer.add([this.winAnim,this.animChip]),this.ShowHidePotBase(!1)}ShowHidePotBase(t){this.potValueBase.setVisible(t),this.potValueChip.setVisible(t),this.potValueText.setVisible(t)}SetPotValue(t){p.SetCurrentPotTextBalance(t);const e=t>=1e3?`${(parseFloat(t)/1e3).toFixed(2)}k`:parseFloat(t).toFixed(2);this.potValueText.setText(e),this.ShowHidePotBase(!0)}CreatePotSplitArea(t){this.potSplitContainer=this.scene.add.container(0,0);const e=this.potValueBase.x,s=this.potValueBase.y-140,i=this.potValueBase.displayWidth+2*(e-this.potValueBase.displayWidth/2);if(1===t.length){const i=this.scene.add.image(0,0,"pot_value_base").setOrigin(.5).setScale(this.potSplitScale);i.setPosition(e,s+200);const a=this.scene.add.image(i.x-67.5,i.y+4,"pot_value_chip").setOrigin(.5).setScale(this.potSplitScale),n={fontFamily:"Poppins-Medium",fontSize:"26px",fill:"#FFF3F2",fontStyle:"bold",align:"center",wordWrap:{width:i.width-5}},o=t[0].val>=1e3?`${(parseFloat(t[0].val)/1e3).toFixed(2)}k`:parseFloat(t[0].val).toFixed(2),r=this.scene.add.text(i.x,i.y+2,o,n).setOrigin(.5).setScale(this.potSplitScale);this.potSplitArray.push(r),this.potSplitContainer.add([i,a,r])}else{const a=e-(2*this.potValueBase.displayWidth+1*i)/2+this.potValueBase.displayWidth/2;let n=0,o=0;for(let e=0;e<t.length;e++){e%2==0&&(n=0,o+=200);const r=this.scene.add.image(0,0,"pot_value_base").setOrigin(.5).setScale(this.potSplitScale);r.setPosition(a+n*(this.potValueBase.displayWidth+i),s+o);const l=this.scene.add.image(r.x-67.5,r.y+4,"pot_value_chip").setOrigin(.5).setScale(this.potSplitScale),h={fontFamily:"Poppins-Medium",fontSize:"26px",fill:"#FFF3F2",fontStyle:"bold",align:"center",wordWrap:{width:r.width-5}},u=t[e].val>=1e3?`${(parseFloat(t[0].val)/1e3).toFixed(2)}k`:parseFloat(t[e].val).toFixed(2),d=this.scene.add.text(r.x,r.y+2,u,h).setOrigin(.5).setScale(this.potSplitScale);this.potSplitArray.push(d),this.potSplitContainer.add([r,l,d]),n+=1}}this.tableContainer.add(this.potSplitContainer)}DestroyPotSplitArea(){this.potSplitContainer&&(this.potSplitContainer.destroy(),this.potSplitArray=[])}CreateTableCard(){const t=this.tableCardConstantValueObj.tableCardStartPosX,e=this.tableCardConstantValueObj.tableCardStartPosY,s=this.tableCardConstantValueObj.tableCardGapX;for(let i=0;i<this.tableCardConstantValueObj.numberOfCards;i++){const a=this.scene.add.sprite(0,0,"front_card_0").setOrigin(.5).setScale(this.tableCardConstantValueObj.tableCardScale);a.setPosition(t+i*(a.width+s),e),a.setFrame(i),a.setVisible(!1),this.tableCardArray.push(a);const n=this.scene.add.sprite(0,0,"card_outline").setOrigin(.5).setScale(this.cardOutlineConstantValueObj.tableCardOutlineScale);n.setPosition(t+i*(n.width+s),e),n.setVisible(!1),this.tableCardOutlineArray.push(n)}}SetTableCardImageFromServer(t){for(let e=0;e<this.tableCardArray.length;e++)this.tableCardArray[e].setTexture(t)}SetBackCardImageFromServer(t){const e=r.GetCurrentBackCardFrame(t);for(let t=0;t<this.tableCardArray.length;t++)this.tableCardArray[t].setFrame(e)}ShowTableCard(t,e,s){switch(e){case"dealFlop":for(let e=0;e<t.length;e++){const i=p.GetActualCardFrameIndex(t[e].card_id);this.tableCardArray[e].setVisible(!0),this.tableCardArray[e].name=t[e].card_id,this.RotateTableCard(this.tableCardArray[e],i,s)}break;case"dealTurn":{const e=p.GetActualCardFrameIndex(t[0].card_id);this.tableCardArray[3].setVisible(!0),this.tableCardArray[3].name=t[0].card_id,this.RotateTableCard(this.tableCardArray[3],e,s)}break;case"dealRiver":{const e=p.GetActualCardFrameIndex(t[0].card_id);this.tableCardArray[4].setVisible(!0),this.tableCardArray[4].name=t[0].card_id,this.RotateTableCard(this.tableCardArray[4],e,s)}break;default:for(let e=0;e<t.length;e++){const i=p.GetActualCardFrameIndex(t[e].card_id);this.tableCardArray[e].setVisible(!0),this.tableCardArray[e].name=t[e].card_id,this.RotateTableCard(this.tableCardArray[e],i,s)}}}RotateTableCard(t,e,s){s?t.setFrame(e):this.scene.add.tween({targets:[t],scaleX:this.tableCardConstantValueObj.tableCardRotationTweenScaleX,ease:"Linear",duration:this.tableCardConstantValueObj.tableCardRotationTweenDuration,callbackScope:this,onComplete:function(){t.setFrame(e),this.scene.add.tween({targets:[t],scaleX:this.tableCardConstantValueObj.tableCardScale*this.newScaleFactor,ease:"Linear",duration:this.tableCardConstantValueObj.tableCardRotationTweenDuration})}})}HideTableCard(){for(let t=0;t<this.tableCardArray.length;t++)this.tableCardArray[t].setVisible(!1)}HideOutline(){for(let t=0;t<this.tableCardOutlineArray.length;t++)this.tableCardOutlineArray[t].setVisible(!1)}HighLightWinCards(t){for(let e=0;e<t.length;e++)for(let s=0;s<this.tableCardArray.length;s++)this.tableCardArray[s].name===t[e].card_id&&this.tableCardArray[s].setDepth(3)}HighlightOutlineOfTableCard(t){this.tableCardOutlineArray[t].setVisible(!0),this.scene.add.tween({targets:this.tableCardOutlineArray[t],scaleX:this.cardOutlineConstantValueObj.tableCardOutlineTweenScale*this.newScaleFactor,scaleY:this.cardOutlineConstantValueObj.tableCardOutlineTweenScale*this.newScaleFactor,ease:"Linear",duration:this.cardOutlineConstantValueObj.tableCardOutlineTweenDuration,repeat:-1,yoyo:!0})}ResetHighLightWinCard(){for(let t=0;t<this.tableCardArray.length;t++)this.tableCardArray[t].setDepth(0);this.HideTableCard(),this.HideOutline(),this.winAnim.setVisible(!1),this.winAnim.play("animation",!1)}WinChipAnim(t){this.winAnim.play("animation",!0),this.winAnim.setVisible(!0),this.animChip.setVisible(!0),this.animChip.play("animation",!0),this.animChip.state.timeScale=1.6,this.scene.add.tween({targets:this.animChip,delay:300,x:t.posX,y:t.posY,ease:"Linear",duration:1400,callbackScope:this,onComplete:function(){this.animChip.setVisible(!1),this.animChip.play("animation",!1),this.animChip.setPosition(this.potValueChip.x,this.potValueChip.y)}})}resize(t,e,s){this.newScaleFactor=s,this.tableContainer.setScale(s),this.tableContainer.setPosition(t/2,e/2),this.tableAnimContainer.setScale(s),this.tableAnimContainer.setPosition(t/2,e/2);for(let i=0;i<this.tableCardArray.length;i++){const a=this.tableCardConstantValueObj.tableCardStartPosX,n=this.tableCardConstantValueObj.tableCardStartPosY,o=this.tableCardConstantValueObj.tableCardGapX,r=this.cardOutlineConstantValueObj.outlineGapX;this.tableCardArray[i].setScale(s*this.tableCardConstantValueObj.tableCardScale),this.tableCardArray[i].setPosition(t/2+(a+i*(this.tableCardArray[i].width+o))*s,e/2+n*s),this.tableCardOutlineArray[i].setScale(s*this.cardOutlineConstantValueObj.tableCardOutlineScale),this.tableCardOutlineArray[i].setPosition(t/2+(a+i*(this.tableCardOutlineArray[i].width+r))*s,e/2+n*s)}}};var g=s(5093),B=s.n(g);s(4743);const S=class{constructor(t,e,s){this.scene=t,this.x=e,this.y=s,this.redLayer=this.scene.add.sprite(0,0,"green_layer"),this.shape=this.scene.make.graphics(),this.shape.fillStyle(16777215),this.shape.slice(this.redLayer.x,this.redLayer.y,this.redLayer.displayWidth/2,Phaser.Math.DegToRad(359),Phaser.Math.DegToRad(0),!0),this.shape.fillPath(),this.mask=this.shape.createGeometryMask(),this.redLayer.setMask(this.mask),this.seconds=0,this.currentActionTime=0,this.timeEvent=t.time.addEvent({delay:1e3,callback:this.TimeEventCallback,callbackScope:this,repeat:-1}),this.timeEvent.paused=!0,this.HideTimer()}TimeEventCallback(){this.seconds--,0===this.seconds&&(this.seconds=this.currentActionTime,this.timeEvent.paused=!0,this.shape.clear(),this.shape.slice(this.redLayer.x,this.redLayer.y,this.redLayer.displayWidth/2,Phaser.Math.DegToRad(270),Phaser.Math.DegToRad(270),!0),this.shape.fillPath(),this.HideTimer())}AdjustLayer(t){this.redLayer.setScale(t)}ShowOnTop(){this.redLayer.setDepth(2)}ShowTimer(t){this.redLayer.setVisible(!0),this.timeEvent.paused=!0,this.StartTimer(t)}HideTimer(){this.redLayer.setVisible(!1),this.timeEvent.paused=!0}GetCurrentTimeStamp(t){return t-B()().tz("Asia/Calcutta").valueOf()}StartTimer(t){const e=this.GetCurrentTimeStamp(t)/1e3;let s=null;s=e===c.GAME_TURN_TIME?0:359-e*(359/c.GAME_TURN_TIME),this.currentActionTime=e,this.counter={},this.timeEvent.paused=!1,this.seconds=e,this.counter=this.scene.tweens.addCounter({from:s,to:359,duration:1e3*this.seconds,onUpdate:t=>{const e=t.getValue();this.shape.clear(),this.shape.slice(0,0,this.redLayer.displayWidth/2,Phaser.Math.DegToRad(270),Phaser.Math.DegToRad(270+e),!0),this.shape.fillPath()},onComplete:()=>{this.HideTimer(),c.game.events.emit("evtUserTimeEnd")}})}PauseTimer(){this.timeEvent.paused=!0,void 0!==this.counter&&this.counter.pause()}ResumeTimer(){this.timeEvent.paused=!1,void 0!==this.counter&&this.counter.resume()}resize(t,e,s){this.shape.setScale(s),this.shape.setPosition(t/2+this.x*s,e/2+this.y*s)}},b=class{constructor(t,e,s){this.scene=t,this.posX=e,this.posY=s,this.initialTime=15,this.maskScaleFactor=1,this.playerId=null,this.remotePlayerId=null,this.sittingIndex=null,this.isDelear=null,this.isSmallBlind=null,this.isBigBlind=null,this.smallBlindAmount=null,this.bigBlindAmount=null,this.positionIndex=null,this.isIngame=null,this.isSitIn=null,this.isLeft=null,this.cardArray=[],this.seconds=30,this.newScaleFactor=null,this.frontCardPosArray=[{x:-45,y:-120,angle:-20},{x:55,y:-120,angle:20}],this.frontCardArray=[],this.frontCardOutlineArray=[],this.timer=null,this.userBalance=null,this.isLocalPlayer=!1,this.CreatePlayer()}CreatePlayer(){this.playerContainer=this.scene.add.container(this.posX,this.posY),this.playerContainer.setDepth(1),this.CreateCharacterSection(),this.CreateFrontCardSection(),this.CreateBackCardSection(),this.CreateNameSection(),this.CreateBalanceSection(),this.CreateTimer(),this.CreateDelearSection(),this.CreateDecisionBaseSection(),this.CreateSmallBlindSection(),this.CreateBigBlindSection(),this.CreateFoldText(),this.CreateCurrentBetShowArea(),this.CreateWinData(),this.CreateOfflineText()}DestroyPlayer(){this.playerContainer.destroy()}CreateCharacterSection(){this.userBase=this.scene.add.image(0,0,"user_base").setOrigin(.5),this.userImage=this.scene.add.image(0,0,"profile_pic_0").setOrigin(.5),this.userRing=this.scene.add.image(0,0,"user_ring").setOrigin(.5),this.userWinRing=this.scene.add.image(0,0,"user_win_ring").setOrigin(.5).setVisible(!1),this.userWinEffect=this.scene.add.image(0,0,"user_win_effect").setOrigin(.5).setVisible(!1),this.CreateProfileMask()}AdjustCharacterSection(){this.maskScaleFactor=1.3,this.userBase.setScale(1.3),this.userImage.setScale(1.3),this.userRing.setScale(1.3),this.userWinRing.setScale(1.3),this.userWinEffect.setScale(1.3),this.userPicGraphics.setScale(this.maskScaleFactor),this.userNameBase.setTexture("localUser_name_base"),this.isLocalPlayer=!0,this.bigBlindBase.setPosition(this.userBase.x-78,this.userBase.y+42),this.bigBlindText.copyPosition(this.bigBlindBase),this.smallBlindBase.setPosition(this.userBase.x-78,this.userBase.y+42),this.smallBlindText.copyPosition(this.smallBlindBase),this.timer.redLayer.setScale(1.3),this.winMessageText.y+=50,this.winMessageText.setStyle({fontSize:"60px"}),this.winStrength.y+=50,this.winStrength.setStyle({fontSize:"35px"})}CreateProfileMask(){this.userPicGraphics=this.scene.add.graphics(),this.userPicGraphics.fillStyle(4095,0),this.userPicGraphics.fillCircle(0,0,this.userBase.width/2.1),this.userPicGraphics.setPosition(Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height/2));const t=this.userPicGraphics.createGeometryMask();this.userImage.setMask(t)}SetUserImageFromServer(t){this.userImage.setTexture(t)}CreateNameSection(){this.userNameBase=this.scene.add.image(this.userBase.x,this.userBase.y,"user_name_base"),this.userNameBar=this.scene.add.image(this.userBase.x,this.userBase.y,"user_name_bar");const t={fontFamily:"Poppins-Regular",fontSize:"32px",fill:"#D2DAE2",fontStyle:"normal",align:"center",wordWrap:{width:this.userNameBase.width+50}};this.userNameText=this.scene.add.text(this.userBase.x,this.userBase.y,"Julia Holden",t).setOrigin(.5),this.playerContainer.add([this.userNameBase,this.userNameText,this.userNameBar])}SetUserName(t){this.userNameText.setText(t)}CreateBalanceSection(){this.userbalanceChip=this.scene.add.image(this.userBase.x,this.userBase.y,"poker_chip");const t={fontFamily:"Poppins-Regular",fontSize:"26px",fill:"#D2DAE2",fontStyle:"normal",align:"center",wordWrap:{width:this.userBase.width-10}};this.userBalanceText=this.scene.add.text(this.userBase.x,this.userBase.y,"200k",t).setOrigin(.5),this.playerContainer.add([this.userbalanceChip,this.userBalanceText])}SetUserBalance(t){this.userBalance=t;const e=t>=1e3?`${(parseFloat(t)/1e3).toFixed(1)}k`:parseFloat(t).toFixed(2);this.userBalanceText.setText(e)}AdjustPlayerInfoSection(t,e,s,i,a){this.userNameText.setPosition(this.userBase.x+t,this.userBase.y+e).setOrigin(i,.5),this.userNameBase.setPosition(this.userNameText.x+s,this.userNameText.y+20),this.userNameBar.setPosition(this.userNameText.x+s,this.userNameText.y+25),this.userBalanceText.setPosition(this.userNameText.x+a+30,this.userNameText.y+50).setOrigin(i,.5),this.userbalanceChip.setPosition(this.userBalanceText.x-75,this.userNameText.y+50)}CreateDelearSection(){this.userDelearBase=this.scene.add.image(this.userBase.x-80,this.userBase.y,"user_role_base").setOrigin(.5),this.userDelearBase.setVisible(!1),this.delearText=this.scene.add.text(this.userDelearBase.x,this.userDelearBase.y,"D",{fontFamily:"Poppins-SemiBold",fontSize:"32px",fill:"#222743",fontStyle:"bold",align:"center"}).setOrigin(.5),this.playerContainer.add([this.userDelearBase,this.delearText]),this.ShowHideDelearIcon(!1)}ShowHideDelearIcon(t){this.userDelearBase.setVisible(t),this.delearText.setVisible(t)}AdjustDealerSection(t,e){this.userDelearBase.setPosition(t,e),this.delearText.copyPosition(this.userDelearBase)}CreateBackCardSection(){this.userBackCard1=this.scene.add.sprite(this.userBase.x-25,this.userBase.y-85,"front_card_0").setOrigin(.5),this.userBackCard1.setAngle(340),this.userBackCard1.setFrame(52),this.userBackCard2=this.scene.add.sprite(this.userBase.x+25,this.userBase.y-85,"front_card_0").setOrigin(.5),this.userBackCard2.setAngle(20),this.userBackCard2.setFrame(52),this.userBackCard1.setVisible(!1),this.userBackCard2.setVisible(!1),this.playerContainer.add([this.userBackCard1,this.userBackCard2]),this.playerContainer.add([this.userBase,this.userImage,this.userRing,this.userWinRing,this.userWinEffect])}SetBackCardImageFromServer(t){console.log("SetBackCardImageFromServer: ",t);const e=r.GetCurrentBackCardFrame(t);console.log("backCardFrameNum: ",e),this.userBackCard1.setFrame(e),this.userBackCard2.setFrame(e)}ShowHideBackCard(t){this.userBackCard1.setVisible(t),this.userBackCard2.setVisible(t)}CreateFrontCardSection(){for(let t=0;t<2;t++){const e=this.scene.add.sprite(this.frontCardPosArray[t].x,this.frontCardPosArray[t].y,"front_card_0").setOrigin(.5).setScale(1.2);e.setAngle(this.frontCardPosArray[t].angle),e.setVisible(!1),e.setFrame(t+5),this.playerContainer.add(e),this.frontCardArray.push(e);const s=this.scene.add.sprite(this.frontCardPosArray[t].x,this.frontCardPosArray[t].y,"card_outline").setOrigin(.5).setScale(.48);s.setAngle(this.frontCardPosArray[t].angle),s.setVisible(!1),this.playerContainer.add(s),this.frontCardOutlineArray.push(s)}}SetFrontCardImageFromServer(t){for(let e=0;e<this.frontCardArray.length;e++)this.frontCardArray[e].setTexture(t)}ShowHideFrontCard(t,e){this.HideOutline();for(let e=0;e<this.frontCardArray.length;e++)this.frontCardArray[e].setAlpha(1),this.frontCardArray[e].setVisible(t);this.RotateFrontCard(e)}SetCardValue(t){for(let e=0;e<this.frontCardArray.length;e++){const s=p.GetActualCardFrameIndex(t[e].card_id);this.frontCardArray[e].setFrame(s)}}RotateFrontCard(t){t||this.scene.add.tween({targets:this.frontCardArray,scaleX:0,ease:"Linear",duration:200,callbackScope:this,onComplete:function(){this.scene.add.tween({targets:this.frontCardArray,scaleX:1.2,ease:"Linear",duration:200})}})}HighlightSelectedFrontCard(t){this.frontCardOutlineArray[t].setVisible(!0),this.scene.add.tween({targets:this.frontCardOutlineArray[t],scaleX:.53,scaleY:.53,ease:"Linear",duration:300,repeat:-1,yoyo:!0})}UnselectedFrontCardWhenHighlight(t){this.frontCardArray[t].setAlpha(.5)}HideOutline(){for(let t=0;t<this.frontCardOutlineArray.length;t++)this.frontCardOutlineArray[t].setVisible(!1)}CreateDecisionBaseSection(){this.userDecisionBase=this.scene.add.image(0,0,"user_check_decision_base").setOrigin(.5),this.userDecisionBase.setVisible(!1),this.decisionText=this.scene.add.text(this.userDecisionBase.x,this.userDecisionBase.y,"Check",{fontFamily:"Poppins-Regular",fontSize:"30px",fill:"#FFF3F2",fontStyle:"bold",align:"center"}).setOrigin(.5).setVisible(!1),this.playerContainer.add([this.userDecisionBase,this.decisionText])}AdjustDecisionBase(t,e,s,i){this.userDecisionBase.setPosition(this.userBase.x+t,this.userBase.y-e),this.decisionText.setOrigin(i,.5),this.decisionText.setPosition(this.userDecisionBase.x+s,this.userDecisionBase.y),this.AdjustFoldBase(t,e,s,i)}ShowDecisionBase(t,e){!1!==e&&(this.userDecisionBase.setTexture(`user_${t}_decision_base`),this.userDecisionBase.setVisible(!0)),t=t.charAt(0).toUpperCase()+t.slice(1),this.decisionText.setText(t),this.decisionText.setVisible(!0),this.scene.add.tween({targets:[this.userDecisionBase,this.decisionText],scaleX:1,scaleY:1,ease:"Linear",duration:50,callbackScope:this,onComplete:function(){}})}HideDecisionBase(){this.scene.add.tween({targets:[this.userDecisionBase,this.decisionText],scaleX:0,scaleY:0,ease:"Linear",duration:50,callbackScope:this,onComplete:function(){this.userDecisionBase.setVisible(!1),this.decisionText.setVisible(!1)}})}CreateSmallBlindSection(){this.smallBlindBase=this.scene.add.image(this.userBase.x-47.5,this.userBase.y+55,"user_role_base").setOrigin(.5),this.smallBlindBase.setVisible(!1);const t={fontFamily:"Poppins-SemiBold",fontSize:"32px",fill:"#222743",fontStyle:"bold",align:"center",wordWrap:{width:this.smallBlindBase.width-10}};this.smallBlindText=this.scene.add.text(this.smallBlindBase.x,this.smallBlindBase.y,"SB",t).setOrigin(.5),this.playerContainer.add([this.smallBlindBase,this.smallBlindText]),this.ShowHideSmallBlind(!1)}ShowHideSmallBlind(t){this.smallBlindBase.setVisible(t),this.smallBlindText.setVisible(t)}AdjustSmallBlindSection(t,e){this.smallBlindBase.setPosition(t,e),this.smallBlindText.copyPosition(this.smallBlindBase)}CreateBigBlindSection(){this.bigBlindBase=this.scene.add.image(this.userBase.x-47.5,this.userBase.y+55,"user_role_base").setOrigin(.5),this.bigBlindBase.setVisible(!1);const t={fontFamily:"Poppins-SemiBold",fontSize:"32px",fill:"#222743",fontStyle:"bold",align:"center",wordWrap:{width:this.bigBlindBase.width-10}};this.bigBlindText=this.scene.add.text(this.bigBlindBase.x,this.bigBlindBase.y,"BB",t).setOrigin(.5),this.playerContainer.add([this.bigBlindBase,this.bigBlindText]),this.ShowHideBigBlind(!1)}ShowHideBigBlind(t){this.bigBlindBase.setVisible(t),this.bigBlindText.setVisible(t)}AdjustBigBlindSection(t,e){this.bigBlindBase.setPosition(t,e),this.bigBlindText.copyPosition(this.bigBlindBase)}AdjustCurrentBetShowArea(t,e,s){this.currentBetBase.setPosition(t,e),1===s?(this.currentBetBase.setFlipX(!0),this.currentBetChip.setPosition(this.currentBetBase.x+67.5,this.currentBetBase.y+6),this.winAmountText.setPosition(this.currentBetBase.x-10,this.currentBetBase.y+6),this.chip.setPosition(this.winAmountText.x+50,this.winAmountText.y-2)):(this.currentBetChip.setPosition(this.currentBetBase.x-67.5,this.currentBetBase.y+6),this.winAmountText.setPosition(this.currentBetBase.x,this.currentBetBase.y+6).setOrigin(0,.5),this.chip.setPosition(this.winAmountText.x-50,this.winAmountText.y-2),2===s&&(this.winAmountText.setPosition(this.currentBetBase.x,this.currentBetBase.y+150),this.chip.setPosition(this.winAmountText.x-50,this.winAmountText.y))),this.currentBetShowText.setPosition(this.currentBetBase.x,this.currentBetBase.y)}CreateFoldText(){this.foldTextBase=this.scene.add.image(this.userBase.x,this.userBase.y,"user_fold_decision_base").setOrigin(.5);const t={fontFamily:"Poppins-SemiBold",fontSize:"30px",fill:"#fff",fontStyle:"bold",align:"center",wordWrap:{width:this.foldTextBase.width-10}};this.foldText=this.scene.add.text(this.foldTextBase.x,this.foldTextBase.y,"Fold",t).setOrigin(.5),this.playerContainer.add([this.foldTextBase,this.foldText]),this.ShowHideFoldText(!1)}AdjustFoldBase(t,e,s,i){this.foldTextBase.setPosition(this.userBase.x+t,this.userBase.y-e),this.foldText.setOrigin(i,.5),this.foldText.setPosition(this.foldTextBase.x+s,this.foldTextBase.y)}ShowHideFoldText(t){this.foldTextBase.setVisible(t),this.foldText.setVisible(t),t&&this.HideDecisionBase()}CreateCurrentBetShowArea(){this.currentBetBase=this.scene.add.image(this.userBase.x,this.userBase.y,"pot_value_base").setOrigin(.5),this.currentBetChip=this.scene.add.image(this.currentBetBase.x-67.5,this.currentBetBase.y+8,"pot_value_chip").setOrigin(.5),this.currentBetShowText=this.scene.add.text(this.userBase.x-140,this.userBase.y-60,"",{fontFamily:"Poppins-SemiBold",fontSize:"22px",fill:"#fff",fontStyle:"bold",align:"center"}).setOrigin(.5),this.playerContainer.add([this.currentBetBase,this.currentBetChip,this.currentBetShowText]),this.ShowHideCurrentBetShowArea(!1,"")}ShowHideCurrentBetShowArea(t,e){const s=e>=1e3?`${(parseFloat(e)/1e3).toFixed(1)}k`:parseFloat(e).toFixed(2);this.currentBetShowText.setText(s),this.currentBetShowText.setVisible(t),this.currentBetChip.setVisible(t),this.currentBetBase.setVisible(t)}UpdateCurrentBetText(t){const e=t>=1e3?`${(parseFloat(t)/1e3).toFixed(1)}k`:parseFloat(t).toFixed(2);this.currentBetShowText.setText(e)}CreateWinData(){this.winMessageText=this.scene.add.text(this.userBase.x,this.userBase.y+230,"You Win",{fontFamily:"Poppins-SemiBold",fontSize:"40px",fill:"#F7B731",fontStyle:"bold",align:"center"}).setOrigin(.5).setVisible(!1);const t={fontFamily:"Poppins-SemiBold",fontSize:"32px",fill:"#F7B731",fontStyle:"bold",align:"center",wordWrap:{width:this.userNameBase.width+50}};this.winStrength=this.scene.add.text(this.winMessageText.x,this.winMessageText.y+70,"2 PAIR",t).setOrigin(.5).setVisible(!1),this.winAmountText=this.scene.add.text(this.userBase.x,this.userBase.y,"200k",{fontFamily:"Poppins-SemiBold",fontSize:"51px",fill:"#F7B731",fontStyle:"bold",align:"left"}).setOrigin(1,.5).setVisible(!1),this.chip=this.scene.add.image(this.winAmountText.x-100,this.winAmountText.y-2,"buy_in_slider_chip").setOrigin(.5).setVisible(!1),this.playerContainer.add([this.winMessageText,this.winStrength,this.winAmountText,this.chip])}SetWinData(t,e,s,i){this.winMessageText.setText(`${t} WIN`).setVisible(i),this.winStrength.setText(s).setVisible(i),this.userWinRing.setVisible(i),this.userWinEffect.setVisible(i),this.chip.setVisible(i);const a=e>=1e3?`${(parseFloat(e)/1e3).toFixed(2)}k`:parseFloat(e).toFixed(0);this.winAmountText.setText(a).setVisible(i)}CreateOfflineText(){this.offlineText=this.scene.add.text(this.userBase.x,this.userBase.y,"OFFLINE",{fontFamily:"Poppins-SemiBold",fontSize:"20px",fill:"#fff",fontStyle:"bold",align:"center"}).setOrigin(.5),this.playerContainer.add([this.offlineText]),this.ShowHideOfflineText(!1)}ShowHideOfflineText(t){this.offlineText.setVisible(t)}CreateTimer(){this.timer=new S(this.scene,this.playerContainer.x,this.playerContainer.y),this.timeValueText=this.scene.add.text(0,0,"",{fontFamily:"Poppins-Regular",fontSize:"50px",fill:"#00ff00",fontStyle:"bold",align:"center"}).setOrigin(.5),this.playerContainer.add(this.timeValueText),this.playerContainer.add([this.timer.redLayer])}ShowGraphicsTimer(t){this.timer.ShowTimer(t),this.timer.ShowOnTop()}HideGraphicsTimer(){this.timer.counter=void 0,this.timer.HideTimer()}FoldPlayer(){this.ShowHideFoldText(!0),this.playerContainer.setAlpha(.5)}UnfoldPlayer(){this.ShowHideFrontCard(!1),this.ShowHideFoldText(!1),this.playerContainer.setAlpha(1)}InactivePlayer(){this.ShowHideOfflineText(!0),this.ShowHideFrontCard(!1),this.ShowHideBackCard(!1),this.playerContainer.setAlpha(.5)}ActivePlayer(){this.ShowHideOfflineText(!1),this.ShowHideFrontCard(!1),this.ShowHideBackCard(!1),this.playerContainer.setAlpha(1)}DestroyPlayer(){this.playerContainer.destroy()}SetPlayerId(t){this.playerId=t}GetPlayerId(){return this.playerId}SetRemotePlayerId(t){this.remotePlayerId=t}GetRemotePlayerId(){return this.remotePlayerId}SetPlayerPositionIndex(t){this.positionIndex=t}GetPlayerPositionIndex(){return this.positionIndex}SetPlayerSittingIndex(t){this.sittingIndex=t}GetPlayerSittingIndex(){return this.sittingIndex}resize(t,e,s){this.playerContainer.setScale(s),this.playerContainer.setPosition(t/2+this.posX*s,e/2+this.posY*s),this.userPicGraphics.setScale(s*this.maskScaleFactor),this.userPicGraphics.setPosition(t/2+this.posX*s,e/2+this.posY*s),this.timer.resize(t,e,s,this.isLocalPlayer),this.newScaleFactor=s}},P=class{constructor(t,e,s,i,a){this.scene=t,this.btnX=e,this.btnY=s,this.currentScale=null,this.normal=null,this.hover=null,this.disabled=null,this.isDisabled=!1,this.clickCallback=null,this.clickCallbackContext=this,this.clickCallbackArgs=null,this.isClicked=!1,this.isSprite=a,this.isCheck=!1,this.CreateImages(i)}CreateImages(t){null!==this.isSprite?(this.normal=this.scene.add.sprite(this.btnX,this.btnY,`${t}_normal`,0),this.hover=this.scene.add.sprite(this.btnX,this.btnY,`${t}_hover`,0),this.disabled=this.scene.add.sprite(this.btnX,this.btnY,`${t}_disabled`,0)):(this.normal=this.scene.add.image(this.btnX,this.btnY,`${t}_normal`),this.hover=this.scene.add.image(this.btnX,this.btnY,`${t}_hover`),this.disabled=this.scene.add.image(this.btnX,this.btnY,`${t}_disabled`)),this.hover.setVisible(!1),this.disabled.setVisible(!1),this.normal.setInteractive({cursor:"pointer"}),this.normal.on("pointerover",this.onOver,this),this.normal.on("pointerout",this.onOut,this),this.normal.on("pointerdown",this.onDown,this),this.normal.on("pointerup",this.onUp,this)}setClickCallback(t,e=null,s=null){this.clickCallback=t,this.clickCallbackContext=null===e?this:e,this.clickCallbackArgs=s}show(){this.normal.setVisible(!0),this.hover.setVisible(!1),this.disabled.setVisible(!1)}hide(){this.normal.setVisible(!1),this.hover.setVisible(!1),this.disabled.setVisible(!1)}onOver(){this.isDisabled||(this.hover.setVisible(!0),this.normal.setAlpha(.01))}onOut(){this.isDisabled||(this.hover.setVisible(!1),this.normal.setAlpha(1))}onDown(){this.isClicked=!0}onUp(){this.isDisabled||this.clickCallback&&this.isClicked&&(this.clickCallback.apply(this.clickCallbackContext,this.clickCallbackArgs),this.ButtonScaleTween())}getWidth(){return this.normal.displayWidth}getHeight(){return this.normal.displayHeight}setScale(t){this.normal.setScale(t),this.hover.setScale(t),this.disabled.setScale(t),this.currentScale=t}setDepth(t){this.normal.setDepth(t),this.hover.setDepth(t),this.disabled.setDepth(t)}resize(t,e){const s=r.GetScale(d.width,d.height,t,e);this.setScale(s)}getPosition(){return{x:this.x,y:this.y}}set x(t){this.btnX=t,this.setPosition(this.btnX,this.btnY)}get x(){return this.btnX}set y(t){this.btnY=t,this.setPosition(this.btnX,this.btnY)}get y(){return this.btnY}setPosition(t,e){this.btnX=t,this.btnY=e,this.normal.setPosition(this.btnX,this.btnY),this.hover.setPosition(this.btnX,this.btnY),this.disabled.setPosition(this.btnX,this.btnY)}SetTexture(t){this.hover.setTexture(`${t}_hover`),this.normal.setTexture(`${t}_normal`),this.disabled.setTexture(`${t}_disabled`)}disable(){setTimeout((()=>{this.isDisabled=!0,this.hover.setVisible(!1),this.normal.setAlpha(.01),this.disabled.setVisible(!0),this.disabled.setAlpha(.5),this.normal.removeInteractive()}),100)}enable(){this.isDisabled=!1,this.normal.setInteractive({cursor:"pointer"}),this.hover.setVisible(!1),this.normal.setAlpha(1),this.disabled.setVisible(!1),this.disabled.setAlpha(1)}destroy(){this.hover.destroy(),this.normal.destroy(),this.disabled.destroy()}ButtonScaleTween(){this.normal.removeInteractive(),this.scene.add.tween({targets:[this.normal,this.hover],scaleX:.95*this.currentScale,scaleY:.95*this.currentScale,ease:"Linear",duration:50,callbackScope:this,onComplete:this.OnCompleteHandler})}OnCompleteHandler(){this.scene.add.tween({targets:[this.normal,this.hover],scaleX:1*this.currentScale,scaleY:1*this.currentScale,ease:"Linear",duration:50,callbackScope:this,onComplete:function(){this.normal.setInteractive({cursor:"pointer"})}})}setFrame(t){this.normal.setFrame(t),this.hover.setFrame(t),this.disabled.setFrame(t)}},A=class{constructor(t){this.scene=t,this.create()}create(){this.CreateLeaveRoomButton(),this.CreateSettingButton(),this.CreateSitOutButton()}CreateLeaveRoomButton(){this.leaveButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"leave_button"),this.leaveButton.setClickCallback(this.OnLeaveRoomButtonClicked,this)}OnLeaveRoomButtonClicked(){this.scene.LeavingPopUpshow()}ResizeLeaveRoomButton(t,e,s){this.leaveButton.setScale(s),this.leaveButton.setPosition(33*s+.5*this.leaveButton.getWidth(),139*s+.5*this.leaveButton.getHeight())}CreateSettingButton(){this.settingButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"setting_button"),this.settingButton.setClickCallback(this.OnSettingButtonClicked,this),this.settingButton.hide()}OnSettingButtonClicked(){this.scene.SettingPopupshow()}ResizeSettingButton(t,e,s){this.settingButton.setScale(s),this.settingButton.setPosition(t-(87*s-.5*this.settingButton.getWidth()),29*s+.5*this.settingButton.getHeight())}CreateSitOutButton(){this.waitingSitButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"waiting_sit_button"),this.waitingSitButton.setClickCallback(this.OnSitOutButtonClicked,this)}OnSitOutButtonClicked(){this.scene.SitOut()}ResizeSitOutButton(t,e,s){this.waitingSitButton.setScale(s),this.waitingSitButton.setPosition(t-33*s-.5*this.waitingSitButton.getWidth(),139*s+.5*this.waitingSitButton.getHeight())}resize(t,e,s){this.ResizeLeaveRoomButton(t,e,s),this.ResizeSettingButton(t,e,s),this.ResizeSitOutButton(t,e,s)}},C=class{constructor(t,e,s,i){this.scene=t,this.textPosX=e,this.textPosY=s,this.textNormal=null,this.currentScale=null,this.CreateText(i)}CreateText(t){this.textNormal=this.scene.add.text(this.textPosX,this.textPosY,t.text,{fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,color:t.color,align:t.align,wordWrap:void 0!==t.wordWrap?{width:t.wordWrap.width}:{width:"0"},shadow:void 0!==t.shadow?{offsetX:t.shadow.offsetX,offsetY:t.shadow.offsetY,color:t.shadow.color,blur:t.shadow.blur,stroke:t.shadow.stroke,fill:t.shadow.fill}:{offsetX:0,offsetY:0,color:"#000000",blur:0,stroke:!1,fill:!1}}).setOrigin(.5)}setLineSpacing(t){this.textNormal.setLineSpacing(t)}setText(t){this.textNormal.setText(t)}show(){this.textNormal.setVisible(!0)}hide(){this.textNormal.setVisible(!1)}setScale(t){this.textNormal.setScale(t),this.currentScale=t}resize(t,e){const s=r.GetScale(d.width,d.height,t,e);this.textNormal.setScale(s)}setPosition(t,e){this.textPosX=t,this.textPosY=e,this.textNormal.setPosition(this.textPosX,this.textPosY)}setOrigin(t,e){this.textNormal.setOrigin(t,e)}disable(){this.textNormal.setAlpha(.5)}enable(){this.textNormal.setAlpha(1)}destroy(){this.textNormal.destroy()}TextScaleTween(){this.scene.add.tween({targets:[this.textNormal],scaleX:.95*this.currentScale,scaleY:.95*this.currentScale,ease:"Linear",duration:50,callbackScope:this,onComplete:this.OnCompleteHandler})}OnCompleteHandler(){this.scene.add.tween({targets:[this.textNormal],scaleX:1*this.currentScale,scaleY:1*this.currentScale,ease:"Linear",duration:50})}},w=class{constructor(t){this.scene=t,this.minRange=null,this.maxRange=null,this.minVal=null,this.maxVal=null,this.checkOrCallButtonShowingStatus=null,this.allInButtonShowingStatus=null,this.halfPotButtonShowingStatus=null,this.threeFourthButtonShowingStatus=null,this.potButtonShowingStatus=null,this.raiseAllInButtonShowingStatus=null,this.raiseAmount=0,this.raiseSliderConstantValueObj={containerPosX:500,containerPosY:185,basePosX:0,basePosY:0,barPosX:0,barPosY:-20,amountTextPosX:35,amountTextPosY:55,closeButtonPosX:50,closeButtonPosY:-100,okButtonPosX:50,okButtonPosY:-100,clampMinRange:2.5,clampMaxRange:962.5,sliderMinVal:2,sliderMaxVal:150},this.BetButtonXpos={halfPotButtonX:335,threeFourthButtonX:335,potButtonX:335,raiseAllInButton:335,foldButtonX:410,callButtonX:130,checkButtonX:130,allInButtonX:-50},this.BetButtonYpos={halfPotButtonY:208,threeFourthButtonY:318,potButtonY:428,raiseAllInButton:538,foldButtonY:410,callButtonY:130,checkButtonY:130,allInButtonY:-50},this.currScale=null,this.currWidth=null,this.currHeight=null,this.initialCorpWidthRaiseBar=2.5,this.raiseTextTweenVal=null,this.create()}create(){this.CreateFoldButton(),this.CreateCallButton(),this.CreateAllinButton(),this.CreateCheckButton(),this.CreateRaiseButton(),this.CreateRaiseSlider(),this.SetRaiseMinMaxAmount(this.raiseSliderConstantValueObj.sliderMinVal,this.raiseSliderConstantValueObj.sliderMaxVal),this.CreateHalfPotButton(),this.CreateThreeFourthPotButton(),this.CreatePotButton(),this.CreateRaisedAllInButton(),this.HideAllBetButton(),this.HideAllRaisedPopupBetButton()}HideAllBetButton(){this.HideFoldButton(),this.HideCallButton(),this.HideCheckButton(),this.HideRaiseButton(),this.HideAllInButton()}DisableAllBetButton(){this.DisableFoldButton(),this.DisableCallButton(),this.DisableCheckButton(),this.DisableRaiseButton(),this.DisableAllInButton(),setTimeout((()=>{this.checkOrCallButtonShowingStatus?this.HideCallButton():this.HideCheckButton(),this.allInButtonShowingStatus?(this.HideCallButton(),this.HideCheckButton(),this.HideRaiseButton()):this.HideAllInButton()}),200)}ShowAllBetButton(){this.ShowFoldButton(),this.ShowRaiseButton(),this.ShowCallButton(),this.ShowCheckButton()}HideAllRaisedPopupBetButton(){this.HideHalfPotButton(),this.HideThreeFourthPotButton(),this.HidePotButton(),this.HideRaisedAllInButton()}DisableAllRaisedPopupBetButton(){this.DisableHalfPotButton(),this.DisableThreeFourthPotButton(),this.DisablePotButton(),this.DisableRaisedAllInButton()}ShowAllRaisedPopupBetButton(){this.ShowHalfPotButton(this.halfPotButtonShowingStatus),this.ShowThreeFourthPotButton(this.threeFourthButtonShowingStatus),this.ShowPotButton(this.potButtonShowingStatus),this.ShowRaisedAllInButton(this.raiseAllInButtonShowingStatus)}ShowCheckOrCallButton(t){this.checkOrCallButtonShowingStatus=t,t?(this.ShowCheckButton(),this.HideCallButton()):(this.ShowCallButton(),this.HideCheckButton())}ShowAllInButtonForPlayer(t){this.allInButtonShowingStatus=t,t?(410===this.BetButtonXpos.foldButtonX&&(this.BetButtonXpos.foldButtonX=300,this.ResizeFoldButton(this.currWidth,this.currHeight,this.currScale)),this.ShowAllInButton(),this.HideCallButton(),this.HideCheckButton(),this.HideRaiseButton(),0===p.GetTurnData().current_player_buy_in&&this.HideAllInButton()):(this.BetButtonXpos.foldButtonX=410,this.ResizeFoldButton(this.currWidth,this.currHeight,this.currScale),this.HideAllInButton())}SetRaisedPopupButtonShowHideStatus(t){this.halfPotButtonShowingStatus=t.betConfig["1/2 pot"],this.threeFourthButtonShowingStatus=t.betConfig["3/4 pot"],this.potButtonShowingStatus=t.betConfig.pot,this.raiseAllInButtonShowingStatus=t.betConfig.all_in;const e=[t.betConfig["1/2 pot"],t.betConfig["3/4 pot"],t.betConfig.pot,t.betConfig.all_in],s=e.filter((t=>!0===t)).length;0!==s&&this.RaiseBetButtonPosResetOnMobile(s,e),this.raiseAmount=0,this.currentHalfPotAmount=t.bet_range["1/2_pot"],this.currentThreeFourthPotAmount=t.bet_range["3/4_pot"],this.currentRaisePotAmount=t.bet_range.pot,this.currentRaiseAllInAmount=t.bet_range.all_in,this.raiseSliderConstantValueObj.sliderMinVal=t.bet_range.min_bet,this.raiseSliderConstantValueObj.sliderMaxVal=t.bet_range.max_bet,this.SetRaiseMinMaxAmount(this.raiseSliderConstantValueObj.sliderMinVal,this.raiseSliderConstantValueObj.sliderMaxVal)}RaiseBetButtonPosResetOnMobile(t,e){const s=Object.keys(this.BetButtonYpos);let{heightGap:i}={4:{heightGap:208,containerPosX:834},3:{heightGap:208,containerPosX:750},2:{heightGap:208,containerPosX:500},1:{heightGap:208,containerPosX:500}}[t]||{heightGap:242,containerPosX:500};for(let t=0;t<e.length;t++)!0===e[t]&&(this.BetButtonYpos[s[t]]=i,i+=110);this.resize(this.currWidth,this.currHeight,this.currScale)}CreateFoldButton(){this.foldButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"call_button"),this.foldButton.setClickCallback(this.OnFoldButtonClicked,this),this.foldButtonText=new C(this.scene,this.foldButton.x,this.foldButton.y,{text:c.FOLD_TEXT,fontFamily:"Poppins-Regular",fontSize:"36px",fontStyle:"normal",color:"#D2DAE2",align:"center",wordWrap:{},shadow:{}})}OnFoldButtonClicked(){this.foldButtonText.TextScaleTween(),this.scene.currentBet=-1,this.scene.PlaceBetForCurrentPlayer(),this.DisableAllBetButton()}ResizeFoldButton(t,e,s){this.foldButton.setScale(s),this.foldButton.setPosition(t/2-this.BetButtonXpos.foldButtonX*s+.5*this.foldButton.getWidth(),e-51*s-.5*this.foldButton.getHeight()),this.foldButtonText.setScale(s),this.foldButtonText.setPosition(this.foldButton.x,this.foldButton.y)}ShowFoldButton(){this.foldButton.show(),this.foldButton.enable(),this.foldButtonText.show(),this.foldButtonText.enable()}HideFoldButton(){this.foldButton.hide(),this.foldButtonText.hide()}DisableFoldButton(){this.foldButton.disable(),this.foldButtonText.disable()}CreateCallButton(){this.callButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"call_button"),this.callButton.setClickCallback(this.OnCallButtonClicked,this),this.callButtonText=new C(this.scene,this.callButton.x,this.callButton.y,{text:c.CALL_TEXT,fontFamily:"Poppins-Regular",fontSize:"36px",fontStyle:"normal",color:"#D2DAE2",align:"center",wordWrap:{},shadow:{}})}OnCallButtonClicked(){this.callButtonText.TextScaleTween(),this.scene.PlaceBetForCurrentPlayer(),this.DisableAllBetButton()}ResizeCallButton(t,e,s){this.callButton.setScale(s),this.callButton.setPosition(t/2-this.BetButtonXpos.callButtonX*s+.5*this.callButton.getWidth(),e-51*s-.5*this.callButton.getHeight()),this.callButtonText.setScale(s),this.callButtonText.setPosition(this.callButton.x,this.callButton.y)}ShowCallButton(){this.callButton.show(),this.callButton.enable(),this.callButtonText.show(),this.callButtonText.enable()}HideCallButton(){this.callButton.hide(),this.callButtonText.hide()}DisableCallButton(){this.callButton.disable(),this.callButtonText.disable()}CreateAllinButton(){this.allinButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"call_button"),this.allinButton.setClickCallback(this.OnAllinButtonClicked,this),this.allinButtonText=new C(this.scene,this.allinButton.x,this.allinButton.y,{text:c.ALL_IN_TEXT,fontFamily:"Poppins-Regular",fontSize:"36px",fontStyle:"normal",color:"#D2DAE2",align:"center",wordWrap:{},shadow:{}}),this.HideAllInButton()}OnAllinButtonClicked(){this.allinButtonText.TextScaleTween(),this.scene.currentBet=this.scene.currentInHandBalance,this.scene.PlaceBetForCurrentPlayer(),this.DisableAllBetButton()}ResizeAllInButton(t,e,s){this.allinButton.setScale(s),this.allinButton.setPosition(t/2-this.BetButtonXpos.allInButtonX*s+.5*this.allinButton.getWidth(),e-51*s-.5*this.allinButton.getHeight()),this.allinButtonText.setScale(s),this.allinButtonText.setPosition(this.allinButton.x,this.allinButton.y)}ShowAllInButton(){this.allinButton.show(),this.allinButton.enable(),this.allinButtonText.show(),this.allinButtonText.enable()}HideAllInButton(){this.allinButton.hide(),this.allinButtonText.hide()}DisableAllInButton(){this.allinButton.disable(),this.allinButtonText.disable()}CreateCheckButton(){this.checkButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"call_button"),this.checkButton.setClickCallback(this.OnCheckButtonClicked,this),this.checkButtonText=new C(this.scene,this.checkButton.x,this.checkButton.y,{text:c.CHECK_TEXT,fontFamily:"Poppins-Regular",fontSize:"36px",fontStyle:"normal",color:"#D2DAE2",align:"center",wordWrap:{},shadow:{}})}OnCheckButtonClicked(){this.checkButtonText.TextScaleTween(),this.scene.PlaceBetForCurrentPlayer(),this.DisableAllBetButton()}ResizeCheckButton(t,e,s){this.checkButton.setScale(s),this.checkButton.setPosition(t/2-this.BetButtonXpos.checkButtonX*s+.5*this.checkButton.getWidth(),e-51*s-.5*this.checkButton.getHeight()),this.checkButtonText.setScale(s),this.checkButtonText.setPosition(this.checkButton.x,this.checkButton.y)}ShowCheckButton(){this.checkButton.show(),this.checkButton.enable(),this.checkButtonText.show(),this.checkButtonText.enable()}HideCheckButton(){this.checkButton.hide(),this.checkButtonText.hide()}DisableCheckButton(){this.checkButton.disable(),this.checkButtonText.disable()}CreateRaiseButton(){this.raiseButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height/2),"call_button"),this.raiseButton.setClickCallback(this.OnRaiseButtonClicked,this),this.raiseButtonText=new C(this.scene,this.raiseButton.x,this.raiseButton.y,{text:c.RAISE_TEXT,fontFamily:"Poppins-Regular",fontSize:"36px",fontStyle:"normal",color:"#D2DAE2",align:"center",wordWrap:{},shadow:{}})}OnRaiseButtonClicked(){this.raiseButtonText.TextScaleTween(),this.HideAllBetButton(),this.ShowRaiseSlider(),this.ShowAllRaisedPopupBetButton()}ResizeRaiseButton(t,e,s){this.raiseButton.setScale(s),this.raiseButton.setPosition(t/2+150*s+.5*this.raiseButton.getWidth(),e-51*s-.5*this.raiseButton.getHeight()),this.raiseButtonText.setScale(s),this.raiseButtonText.setPosition(this.raiseButton.x,this.raiseButton.y)}ShowRaiseButton(){this.raiseButton.show(),this.raiseButton.enable(),this.raiseButtonText.show(),this.raiseButtonText.enable(1)}HideRaiseButton(){this.raiseButton.hide(),this.raiseButtonText.hide()}DisableRaiseButton(){this.raiseButton.disable(),this.raiseButtonText.disable(.5)}SetRaiseMinMaxAmount(t,e){this.minRange=this.raiseSliderConstantValueObj.clampMinRange,this.maxRange=this.raiseSliderConstantValueObj.clampMaxRange,this.minVal=t,this.maxVal=e,this.raiseTextTweenVal=this.minVal,this.limitParam=(this.maxRange-this.minRange)/(this.maxVal-this.minVal),this.raiseAmountText.setText(`$ ${this.minVal}`)}CreateRaiseSlider(){this.sliderContainer=this.scene.add.container(0,0).setDepth(2),this.raiseSliderBase=this.scene.add.image(this.raiseSliderConstantValueObj.basePosX,this.raiseSliderConstantValueObj.basePosY,"raise_base").setOrigin(0),this.raiseSliderBar=this.scene.add.image(this.raiseSliderConstantValueObj.basePosX,this.raiseSliderConstantValueObj.basePosY,"raise_bar").setOrigin(0),this.raiseSliderChip=this.scene.add.image(this.raiseSliderConstantValueObj.basePosX-2.5,this.raiseSliderConstantValueObj.basePosY+8,"raise_slider_chip").setOrigin(.5),this.raiseSliderBar.setCrop(0,0,0,this.raiseSliderBase.height),this.raiseSliderKnob=this.scene.add.image(this.raiseSliderConstantValueObj.barPosX+4.5,this.raiseSliderConstantValueObj.barPosY-8,"raise_slider").setOrigin(0),this.raiseSliderKnob.setInteractive({draggable:!0}),this.raiseSliderKnob.setData("name","RaiseSlider");const t={fontFamily:"Poppins-Regular",fontSize:"33px",fill:"#FFF3F2",fontStyle:"normal",align:"center"};this.raiseAmountText=this.scene.add.text(this.raiseSliderKnob.x+this.raiseSliderConstantValueObj.amountTextPosX,this.raiseSliderKnob.y-this.raiseSliderConstantValueObj.amountTextPosY,this.minVal,t).setOrigin(.5),this.raiseSliderKnobBase=this.scene.add.image(this.raiseAmountText.x,this.raiseAmountText.y+15,"raise_slider_base"),this.sliderContainer.add([this.raiseSliderBase,this.raiseSliderBar,this.raiseSliderChip,this.raiseSliderKnob,this.raiseSliderKnobBase,this.raiseAmountText]),this.scene.input.on("drag",((t,e,s)=>{if("RaiseSlider"===e.getData("name")){s=Phaser.Math.Clamp(s,this.minRange,this.maxRange),this.raiseAmount=s/this.limitParam-this.minRange/this.limitParam,this.raiseAmount=parseInt(this.raiseAmount);const t=s/10+2-this.minRange/10,i=this.raiseAmount>=1e3?`${(parseFloat(this.raiseAmount+this.minVal)/1e3).toFixed(2)}k`:parseFloat(this.raiseAmount+this.minVal).toFixed(0);this.raiseAmountText.setText(`$ ${i}`),this.raiseSliderBar.setCrop(0,0,this.raiseSliderBar.width*(.01*t),this.raiseSliderBase.height),this.initialCorpWidthRaiseBar=this.raiseSliderBar.width*(.01*t),e.x=Math.round(s),this.raiseAmountText.x=this.raiseSliderConstantValueObj.amountTextPosX+Math.round(s),this.raiseSliderKnobBase.x=this.raiseAmountText.x}})),this.raiseSliderCloseButton=new P(this.scene,0,0,"raise_popup_cancel_button"),this.raiseSliderCloseButtonText=this.scene.add.text(0,0,"Cancel",t).setOrigin(.5),this.raiseSliderCloseButton.setClickCallback(this.OnRaiseSliderCloseButtonClicked,this),this.raiseSliderOkButton=new P(this.scene,0,0,"call_button"),this.raiseSliderOkButtonText=this.scene.add.text(0,0,"Done",t).setOrigin(.5),this.raiseSliderOkButton.setClickCallback(this.OnRaiseSliderOkButtonClicked,this),this.HideRaiseSlider()}OnRaiseSliderCloseButtonClicked(){this.HideRaiseSlider(),this.ShowAllBetButton(),this.HideAllRaisedPopupBetButton(),this.ShowCheckOrCallButton(this.checkOrCallButtonShowingStatus),this.ShowAllInButtonForPlayer(this.allInButtonShowingStatus)}OnRaiseSliderOkButtonClicked(){this.scene.currentBet=parseInt(this.raiseAmount+this.minVal),this.scene.PlaceBetForCurrentPlayer(),this.DisableRaiseSlider(),this.DisableAllRaisedPopupBetButton()}ShowRaiseSlider(){this.sliderContainer.setVisible(!0).setAlpha(1),this.raiseSliderKnob.setInteractive({draggable:!0}),p.GetCurrentUserBalance()>this.scene.currentBet?(this.raiseSliderOkButton.show(),this.raiseSliderOkButton.enable(),this.raiseSliderOkButtonText.setVisible(!0),this.raiseSliderOkButtonText.setAlpha(1)):(this.raiseSliderOkButton.disable(),this.raiseSliderOkButtonText.setVisible(!0)),this.raiseSliderCloseButton.show(),this.raiseSliderCloseButton.enable(),this.raiseSliderCloseButtonText.setVisible(!0),this.raiseSliderCloseButtonText.setAlpha(1)}HideRaiseSlider(){this.sliderContainer.setVisible(!1),this.raiseSliderCloseButton.hide(),this.raiseSliderCloseButtonText.setVisible(!1),this.raiseSliderOkButton.hide(),this.raiseSliderOkButtonText.setVisible(!1),this.raiseSliderKnob.setPosition(this.raiseSliderConstantValueObj.barPosX+4.5,this.raiseSliderConstantValueObj.barPosY-8),this.raiseAmountText.setPosition(this.raiseSliderKnob.x+this.raiseSliderConstantValueObj.amountTextPosX,this.raiseSliderKnob.y-this.raiseSliderConstantValueObj.amountTextPosY),this.raiseSliderKnobBase.setPosition(this.raiseAmountText.x,this.raiseAmountText.y+15),this.raiseSliderBar.setCrop(0,0,0,this.raiseSliderBase.height)}DisableRaiseSlider(){this.raiseSliderKnob.removeInteractive(),this.sliderContainer.setAlpha(.5),this.raiseSliderCloseButton.disable(),this.raiseSliderCloseButtonText.setAlpha(.5),this.raiseSliderOkButton.disable(),this.raiseSliderOkButtonText.setAlpha(.5)}ResizeRaiseSlider(t,e,s){this.sliderContainer.setScale(s),this.sliderContainer.setPosition(t/2-this.raiseSliderConstantValueObj.containerPosX*s,e-this.raiseSliderConstantValueObj.containerPosY*s),this.raiseSliderOkButton.setScale(s),this.raiseSliderOkButton.setPosition(t/2-110*s+.5*this.raiseSliderOkButton.getWidth(),e-51*s-.5*this.raiseSliderOkButton.getHeight()),this.raiseSliderOkButtonText.setScale(s),this.raiseSliderOkButtonText.copyPosition(this.raiseSliderOkButton),this.raiseSliderCloseButton.setScale(s),this.raiseSliderCloseButton.setPosition(t/2+250*s+.5*this.raiseSliderCloseButton.getWidth(),e-50*s-.5*this.raiseSliderCloseButton.getHeight()),this.raiseSliderCloseButtonText.setScale(s),this.raiseSliderCloseButtonText.copyPosition(this.raiseSliderCloseButton)}CreateHalfPotButton(){this.halfPotButton=new P(this.scene,0,0,"raise_half_pot_button"),this.halfPotButton.setClickCallback(this.OnHalfPotButtonClicked,this),this.halfPotButtonText=new C(this.scene,this.halfPotButton.x,this.halfPotButton.y,{text:c.HALF_POT_TEXT,fontFamily:"Poppins-Regular",fontSize:"36px",fontStyle:"bold",color:"#FFF3F2",align:"center",wordWrap:{},shadow:{}}),this.checkHalfPotButton=this.scene.add.image(0,0,"user_check_decision_base").setVisible(!1)}OnHalfPotButtonClicked(){this.halfPotButtonText.TextScaleTween(),this.potButton.isCheck=!1,this.IsSelectPotButton(this.potButton.isCheck),this.threeFourthPotButton.isCheck=!1,this.IsSelectThreeFourthPotButton(this.threeFourthPotButton.isCheck),this.raisedAllInButton.isCheck=!1,this.IsSelectRaisedAllInButton(this.raisedAllInButton.isCheck),this.halfPotButton.isCheck=!this.halfPotButton.isCheck,this.IsSelectHalfPotButton(this.halfPotButton.isCheck)}ResizeHalfPotButton(t,e,s){this.halfPotButton.setScale(s),this.halfPotButton.setPosition(t/2+this.BetButtonXpos.halfPotButtonX*s+.5*this.halfPotButton.getWidth(),e-this.BetButtonYpos.halfPotButtonY*s-.5*this.halfPotButton.getHeight()),this.halfPotButtonText.setScale(s),this.halfPotButtonText.setPosition(this.halfPotButton.x,this.halfPotButton.y),this.checkHalfPotButton.setScale(s),this.checkHalfPotButton.setPosition(this.halfPotButton.x-89*s,this.halfPotButton.y)}ShowHalfPotButton(t){t?(this.halfPotButton.SetTexture("raise_half_pot_button"),this.halfPotButton.show(),this.halfPotButton.enable(),this.halfPotButtonText.textNormal.setStyle({fill:"#FFF3F2"}),this.halfPotButtonText.show(),this.halfPotButtonText.enable(),this.checkHalfPotButton.setVisible(!1)):this.HideHalfPotButton()}HideHalfPotButton(){this.halfPotButton.hide(),this.halfPotButtonText.hide(),this.checkHalfPotButton.setVisible(!1)}DisableHalfPotButton(){this.halfPotButton.disable(),this.halfPotButtonText.disable()}IsSelectHalfPotButton(t){if(t)if(this.checkHalfPotButton.setVisible(!0),this.halfPotButton.SetTexture("select_raise_half_pot_button"),this.halfPotButtonText.textNormal.setStyle({fill:"#00A8FF"}),this.raiseAmount=this.currentHalfPotAmount-this.minVal,this.currentHalfPotAmount>this.minVal){const t=(this.currentHalfPotAmount-this.raiseSliderConstantValueObj.sliderMinVal)*(this.raiseSliderConstantValueObj.clampMaxRange-this.raiseSliderConstantValueObj.clampMinRange)/(this.raiseSliderConstantValueObj.sliderMaxVal-this.raiseSliderConstantValueObj.sliderMinVal)+this.raiseSliderConstantValueObj.clampMinRange;this.RaiseBarTweenControl(t,this.currentHalfPotAmount)}else this.RaiseBarTweenControl(0,this.currentHalfPotAmount);else this.checkHalfPotButton.setVisible(!1),this.halfPotButton.SetTexture("raise_half_pot_button"),this.halfPotButtonText.textNormal.setStyle({fill:"#FFF3F2"}),this.raiseAmount=0}CreateThreeFourthPotButton(){this.threeFourthPotButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"raise_half_pot_button"),this.threeFourthPotButton.setClickCallback(this.OnThreeFourthPotButtonClicked,this),this.threeFourthPotButtonText=new C(this.scene,this.threeFourthPotButton.x,this.threeFourthPotButton.y,{text:c.THREE_FOURTH_POT_TEXT,fontFamily:"Poppins-Regular",fontSize:"36px",fontStyle:"bold",color:"#FFF3F2",align:"center",wordWrap:{},shadow:{}}),this.checkThreeFourthPotButton=this.scene.add.image(0,0,"user_check_decision_base").setVisible(!1)}OnThreeFourthPotButtonClicked(){this.threeFourthPotButtonText.TextScaleTween(),this.potButton.isCheck=!1,this.IsSelectPotButton(this.potButton.isCheck),this.halfPotButton.isCheck=!1,this.IsSelectHalfPotButton(this.halfPotButton.isCheck),this.raisedAllInButton.isCheck=!1,this.IsSelectRaisedAllInButton(this.raisedAllInButton.isCheck),this.threeFourthPotButton.isCheck=!this.threeFourthPotButton.isCheck,this.IsSelectThreeFourthPotButton(this.threeFourthPotButton.isCheck)}ResizeThreeFourthPotButton(t,e,s){this.threeFourthPotButton.setScale(s),this.threeFourthPotButton.setPosition(t/2+this.BetButtonXpos.threeFourthButtonX*s+.5*this.threeFourthPotButton.getWidth(),e-this.BetButtonYpos.threeFourthButtonY*s-.5*this.threeFourthPotButton.getHeight()),this.threeFourthPotButtonText.setScale(s),this.threeFourthPotButtonText.setPosition(this.threeFourthPotButton.x,this.threeFourthPotButton.y),this.checkThreeFourthPotButton.setScale(s),this.checkThreeFourthPotButton.setPosition(this.threeFourthPotButton.x-89*s,this.threeFourthPotButton.y)}ShowThreeFourthPotButton(t){t?(this.threeFourthPotButton.SetTexture("raise_half_pot_button"),this.threeFourthPotButton.show(),this.threeFourthPotButton.enable(),this.threeFourthPotButtonText.textNormal.setStyle({fill:"#FFF3F2"}),this.threeFourthPotButtonText.show(),this.threeFourthPotButtonText.enable(),this.checkThreeFourthPotButton.setVisible(!1)):this.HideThreeFourthPotButton()}HideThreeFourthPotButton(){this.threeFourthPotButton.hide(),this.threeFourthPotButtonText.hide(),this.checkThreeFourthPotButton.setVisible(!1)}DisableThreeFourthPotButton(){this.threeFourthPotButton.disable(),this.threeFourthPotButtonText.disable()}IsSelectThreeFourthPotButton(t){if(t)if(this.checkThreeFourthPotButton.setVisible(!0),this.threeFourthPotButton.SetTexture("select_raise_half_pot_button"),this.threeFourthPotButtonText.textNormal.setStyle({fill:"#00A8FF"}),this.raiseAmount=this.currentThreeFourthPotAmount-this.minVal,this.currentThreeFourthPotAmount>this.minVal){const t=(this.currentThreeFourthPotAmount-this.raiseSliderConstantValueObj.sliderMinVal)*(this.raiseSliderConstantValueObj.clampMaxRange-this.raiseSliderConstantValueObj.clampMinRange)/(this.raiseSliderConstantValueObj.sliderMaxVal-this.raiseSliderConstantValueObj.sliderMinVal)+this.raiseSliderConstantValueObj.clampMinRange;this.RaiseBarTweenControl(t,this.currentThreeFourthPotAmount)}else this.RaiseBarTweenControl(0,this.currentThreeFourthPotAmount);else this.checkThreeFourthPotButton.setVisible(!1),this.threeFourthPotButton.SetTexture("raise_half_pot_button"),this.threeFourthPotButtonText.textNormal.setStyle({fill:"#FFF3F2"}),this.raiseAmount=0}CreatePotButton(){this.potButton=new P(this.scene,0,0,"raise_half_pot_button"),this.potButton.setClickCallback(this.OnPotButtonClicked,this),this.potButtonText=new C(this.scene,this.potButton.x,this.potButton.y,{text:c.POT_TEXT,fontFamily:"Poppins-Regular",fontSize:"36px",fontStyle:"bold",color:"#FFF3F2",align:"center",wordWrap:{},shadow:{}}),this.checkPotButton=this.scene.add.image(0,0,"user_check_decision_base").setVisible(!1)}OnPotButtonClicked(){this.potButtonText.TextScaleTween(),this.threeFourthPotButton.isCheck=!1,this.IsSelectThreeFourthPotButton(this.threeFourthPotButton.isCheck),this.halfPotButton.isCheck=!1,this.IsSelectHalfPotButton(this.halfPotButton.isCheck),this.raisedAllInButton.isCheck=!1,this.IsSelectRaisedAllInButton(this.raisedAllInButton.isCheck),this.potButton.isCheck=!this.potButton.isCheck,this.IsSelectPotButton(this.potButton.isCheck)}ResizePotButton(t,e,s){this.potButton.setScale(s),this.potButton.setPosition(t/2+this.BetButtonXpos.potButtonX*s+.5*this.potButton.getWidth(),e-this.BetButtonYpos.potButtonY*s-.5*this.potButton.getHeight()),this.potButtonText.setScale(s),this.potButtonText.setPosition(this.potButton.x,this.potButton.y),this.checkPotButton.setScale(s),this.checkPotButton.setPosition(this.potButton.x-89*s,this.potButton.y)}ShowPotButton(t){t?(this.potButton.SetTexture("raise_half_pot_button"),this.potButton.show(),this.potButton.enable(),this.potButtonText.textNormal.setStyle({fill:"#FFF3F2"}),this.potButtonText.show(),this.potButtonText.enable(),this.checkPotButton.setVisible(!1)):this.HidePotButton()}HidePotButton(){this.potButton.hide(),this.potButtonText.hide(),this.checkPotButton.setVisible(!1)}DisablePotButton(){this.potButton.disable(),this.potButtonText.disable()}IsSelectPotButton(t){if(t)if(this.checkPotButton.setVisible(!0),this.potButton.SetTexture("select_raise_half_pot_button"),this.potButtonText.textNormal.setStyle({fill:"#00A8FF"}),this.raiseAmount=this.currentRaisePotAmount-this.minVal,this.currentRaisePotAmount>this.minVal){const t=(this.currentRaisePotAmount-this.raiseSliderConstantValueObj.sliderMinVal)*(this.raiseSliderConstantValueObj.clampMaxRange-this.raiseSliderConstantValueObj.clampMinRange)/(this.raiseSliderConstantValueObj.sliderMaxVal-this.raiseSliderConstantValueObj.sliderMinVal)+this.raiseSliderConstantValueObj.clampMinRange;this.RaiseBarTweenControl(t,this.currentRaisePotAmount)}else this.RaiseBarTweenControl(0,this.currentRaisePotAmount);else this.checkPotButton.setVisible(!1),this.potButton.SetTexture("raise_half_pot_button"),this.potButtonText.textNormal.setStyle({fill:"#FFF3F2"}),this.raiseAmount=0,this.RaiseBarTweenControl(0,this.raiseAmount+this.minVal)}CreateRaisedAllInButton(){this.raisedAllInButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"raise_half_pot_button"),this.raisedAllInButton.setClickCallback(this.OnRaisedAllInButtonClicked,this),this.raisedAllInButtonText=new C(this.scene,this.raisedAllInButton.x,this.raisedAllInButton.y,{text:c.ALL_IN_TEXT,fontFamily:"Poppins-Regular",fontSize:"36px",fontStyle:"bold",color:"#FFF3F2",align:"center",wordWrap:{},shadow:{}}),this.checkRaisedAllInButton=this.scene.add.image(0,0,"user_check_decision_base").setVisible(!1)}OnRaisedAllInButtonClicked(){this.raisedAllInButtonText.TextScaleTween(),this.threeFourthPotButton.isCheck=!1,this.IsSelectThreeFourthPotButton(this.threeFourthPotButton.isCheck),this.halfPotButton.isCheck=!1,this.IsSelectHalfPotButton(this.halfPotButton.isCheck),this.potButton.isCheck=!1,this.IsSelectPotButton(this.potButton.isCheck),this.raisedAllInButton.isCheck=!this.raisedAllInButton.isCheck,this.IsSelectRaisedAllInButton(this.raisedAllInButton.isCheck)}ResizeRaisedAllInButton(t,e,s){this.raisedAllInButton.setScale(s),this.raisedAllInButton.setPosition(t/2+this.BetButtonXpos.raiseAllInButton*s+.5*this.raisedAllInButton.getWidth(),e-this.BetButtonYpos.raiseAllInButton*s-.5*this.raisedAllInButton.getHeight()),this.raisedAllInButtonText.setScale(s),this.raisedAllInButtonText.setPosition(this.raisedAllInButton.x,this.raisedAllInButton.y),this.checkRaisedAllInButton.setScale(s),this.checkRaisedAllInButton.setPosition(this.raisedAllInButton.x-89*s,this.raisedAllInButton.y)}ShowRaisedAllInButton(t){t?(this.raisedAllInButton.SetTexture("raise_half_pot_button"),this.raisedAllInButton.show(),this.raisedAllInButton.enable(),this.raisedAllInButtonText.textNormal.setStyle({fill:"#FFF3F2"}),this.raisedAllInButtonText.show(),this.raisedAllInButtonText.enable(),this.checkRaisedAllInButton.setVisible(!1)):this.HideRaisedAllInButton()}HideRaisedAllInButton(){this.raisedAllInButton.hide(),this.raisedAllInButtonText.hide(),this.checkRaisedAllInButton.setVisible(!1)}DisableRaisedAllInButton(){this.raisedAllInButton.disable(),this.raisedAllInButtonText.disable()}IsSelectRaisedAllInButton(t){if(t)if(this.checkRaisedAllInButton.setVisible(!0),this.raisedAllInButton.SetTexture("select_raise_half_pot_button"),this.raisedAllInButtonText.textNormal.setStyle({fill:"#00A8FF"}),this.raiseAmount=this.currentRaiseAllInAmount-this.minVal,this.currentRaiseAllInAmount>this.minVal){const t=(this.currentRaiseAllInAmount-this.raiseSliderConstantValueObj.sliderMinVal)*(this.raiseSliderConstantValueObj.clampMaxRange-this.raiseSliderConstantValueObj.clampMinRange)/(this.raiseSliderConstantValueObj.sliderMaxVal-this.raiseSliderConstantValueObj.sliderMinVal)+this.raiseSliderConstantValueObj.clampMinRange;this.RaiseBarTweenControl(t,this.currentRaiseAllInAmount)}else this.RaiseBarTweenControl(0,this.currentRaiseAllInAmount);else this.checkRaisedAllInButton.setVisible(!1),this.raisedAllInButton.SetTexture("raise_half_pot_button"),this.raisedAllInButtonText.textNormal.setStyle({fill:"#FFF3F2"}),this.raiseAmount=0}RaiseBarTweenControl(t,e){this.scene.add.tween({targets:[this.raiseSliderKnob,this.raiseAmountText,this.raiseSliderKnobBase],x:4.5+t,ease:"Linear",duration:500,callbackScope:this,onUpdate:()=>{this.raiseAmountText.x=this.raiseSliderKnob.x+35,this.raiseSliderKnobBase.x=this.raiseAmountText.x}}),this.scene.tweens.add({targets:{value:this.raiseTextTweenVal},value:e,duration:500,ease:"Linear",onUpdate:(t,s)=>{const i=e>=1e3?`${(parseFloat(s.value)/1e3).toFixed(2)}k`:parseFloat(s.value).toFixed(0);this.raiseTextTweenVal=s.value,this.raiseAmountText.setText(`$ ${i}`)}}),this.scene.tweens.add({targets:{value:this.initialCorpWidthRaiseBar},value:t,duration:500,ease:"Linear",onUpdate:(t,e)=>{this.raiseSliderBar.setCrop(0,0,e.value+35,this.raiseSliderBase.height),this.initialCorpWidthRaiseBar=e.value}})}resize(t,e,s){this.currScale=s,this.currWidth=t,this.currHeight=e,this.ResizeFoldButton(t,e,s),this.ResizeCallButton(t,e,s),this.ResizeCheckButton(t,e,s),this.ResizeAllInButton(t,e,s),this.ResizeRaiseButton(t,e,s),this.ResizeHalfPotButton(t,e,s),this.ResizeThreeFourthPotButton(t,e,s),this.ResizePotButton(t,e,s),this.ResizeRaisedAllInButton(t,e,s),this.ResizeRaiseSlider(t,e,s)}};var x=s(7115);const _=new class{async GetAuthTokenFromServer(){this.urlParams=new URLSearchParams(window.location.search),this.authToken=this.urlParams.get("authToken"),this.type=this.urlParams.get("type"),p.SetAuthToken(this.authToken),p.SetType(this.type)}SetValueFromUserData(t){this.tableId=t.table_id,this.minBuyIn=Number(t.minBuyIn),this.maxBuyIn=Number(t.maxBuyIn),this.gameType=t.gametype,this.gameId=t.game_id,p.SetTableId(this.tableId),p.SetMinBuyInAmount(this.minBuyIn),p.SetMaxBuyInAmount(this.maxBuyIn),p.SetGameType(this.gameType),p.SetGameId(this.gameId)}constructor(){this.GetAuthTokenFromServer(),this.baseUrl="https://staginglocal.redappletech.com/pokerCoreEngine",console.log("constructor client!"),this.socket=(0,x.Ay)(this.baseUrl,{path:"/poker-engine-socket",query:{token:p.GetAuthToken()}}),"cash"!==p.GetType()&&"tournament"!==p.GetType()||this.InitSocketListeners()}async InitSocketListeners(){this.socket.on("connect",(()=>{console.log("Socket successfully connected!"),c.game.events.emit("evtSocketConnection","Socket successfully connected"),r.IsEmpty(p.GetLocalPlayerID())||(this.JoinQueue(),console.log("Socket Reconnection join que Emit"))})),this.socket.on("disconnect",(()=>{console.log("Disconnected!"),c.game.events.emit("evtSocketConnection","Socket Disconnected")})),await this.GetUserData(),await this.GetRoomDetails(),await this.UpdateRoom(),await this.StartGame(),await this.UpdateBlinds(),await this.StartPreFlopRound(),await this.SendBetData(),await this.UpdateTimer(),await this.PotSplitData(),await this.UpdatePotValue(),await this.DealFlopRound(),await this.DealTurnRound(),await this.DealRiverRound(),await this.DealShowDownRound(),await this.ReplayHand(),await this.LeaveRoomSuccess(),await this.LeaveTableSuccess(),await this.ReconnectSession(),await this.TournamentHandsOver(),await this.TournamentStageOverCounter(),await this.TournamentNextStage(),await this.GameState(),await this.SpectatorPreFlop(),await this.HandCooldownTimer(),await this.UpdateChipsResponse()}async GetUserData(){this.socket.on("user-data",(async t=>{console.log("user-data !",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):(this.SetValueFromUserData(t.data.user_game_data),p.SetLocalPlayerData(t.data),p.SetLocalPlayerId(t.data.user_id),p.SetLocalPlayerRemoteId(t.data.remote_user_id),p.SetLocalUserName(t.data.user_name))}))}async JoinQueue(){const t={table_id:p.GetTableId()};console.log("JoinQueue !",t),this.socket.emit("join-queue",t,(t=>{console.log("Acknowledgement join-queue from server:",t),t.error?c.game.events.emit("evtShowAlert",t.message):(console.log("Model.GetRoomDetailsData(): ",p.GetRoomDetailsData()),p.GetRoomDetailsData()&&(console.log("inside Model.GetRoomDetailsData(): ",p.GetRoomDetailsData()),this.GetGameState(),console.log("Socket Reconnection GetGameState Emit")))}))}async GetRoomDetails(){this.socket.on("room-details",(async t=>{console.log("room-details !",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):(p.SetRoomDetailsData(t.data),p.SetPlayersData(t.data),c.game.events.emit("evtCreatePlayer"))}))}async UpdateRoom(){this.socket.on("update-room",(async t=>{console.log("---Update Room",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t.data)?c.game.events.emit("evtShowAlert","data null"):!0===t.data.sit_in?(p.UpdateRoomDetailsData(t.data),c.game.events.emit("evtCreatePlayer")):(p.SetSitOutPlayerDetails(t.data),c.game.events.emit("evtInactivePlayer"))}))}async SitIn(t){const e={buy_in:p.GetBuyInAmount(),table_id:p.GetTableId(),seat_no:t};console.log("sit-in !",e),this.socket.emit("sit-in",e,(t=>{console.log("Acknowledgement sit-in from server:",t),t.error?c.game.events.emit("evtShowAlert",t.message):c.game.events.emit("evtGettingAckFromSitIn")}))}async SitOut(t){const e={table_id:p.GetTableId(),seat_no:t};this.socket.emit("sit-out",e)}async SitInSuccess(){this.socket.on("sit-in-res",(async t=>{t.error||(r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):c.game.events.emit("evtSitOutSuccess"))}))}async StartGame(){this.socket.on("start-game",(async t=>{console.log("start-game",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):(p.SetGameId(t.data.game_id),p.SetRoomName(t.data.room_name),p.SetSmallBigBlindPlayerData(t.data),p.SetSmallBlindPlayerId(t.data),p.SetBigBlindPlayerId(t.data),c.GAME_TURN_TIME=t.data.actionTime,c.game.events.emit("evtShowSmallAndBigBlind"))}))}async UpdateBlinds(){this.socket.on("update-blind",(async t=>{console.log("update-blind",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):(p.SetUpdateBlindsData(t.data),c.game.events.emit("evtShowBlindDeductAnimation"))}))}async StartPreFlopRound(){this.socket.on("pre-flop",(async t=>{console.log("pre-flop",t),t.error||(r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):(p.SetPreFlopRoundData(t.data),c.game.events.emit("evtShowCardDistributionAnimation")))}))}async SendBetData(){this.socket.on("send-bet",(async t=>{console.log("send-bet",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):(p.SetTurnData(t.data),c.game.events.emit("evtChangeTurn"))}))}async UpdateTimer(){this.socket.on("update-timer",(async t=>{t.error||(p.SetTimerData(t),c.game.events.emit("evtShowTimer"))}))}async PlaceBet(t){const e={table_id:p.GetTableId(),game_id:p.GetGameId(),bet:t};console.log("update-bet: ",e),this.socket.emit("update-bet",e)}async UpdatePotValue(){this.socket.on("update-pot",(async t=>{console.log("update-pot",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):(p.SetUpdatePotValueData(t),c.game.events.emit("evtUpdatePotValue"))}))}async PotSplitData(){this.socket.on("pot-split",(async t=>{console.log("pot-split",t),t.error}))}async DealFlopRound(){this.socket.on("deal-flop",(async t=>{console.log("deal-flop",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):(p.SetDealFlopRoundData(t.data),c.game.events.emit("evtDealFlopRound"))}))}async DealTurnRound(){this.socket.on("deal-turn",(async t=>{console.log("deal-turn",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):(p.SetDealTurnRoundData(t.data),c.game.events.emit("evtDealTurnRound"))}))}async DealRiverRound(){this.socket.on("deal-river",(async t=>{console.log("deal-river",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):(p.SetDealRiverRoundData(t.data),c.game.events.emit("evtDealRiverRound"))}))}async DealShowDownRound(){this.socket.on("show-down",(async t=>{console.log("show-down",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):(p.SetShowDownRoundData(t.data),c.game.events.emit("evtShowDownRound"))}))}async ReplayHand(){this.socket.on("replay-hand",(async t=>{console.log("replay-hand",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):(p.SetReplayHandData(t.data),c.game.events.emit("evtReplayHand"))}))}async LeaveRoom(){const t={table_id:p.GetTableId()};console.log("leave-room !",t),this.socket.emit("leave-room",t)}async LeaveTableSuccess(){this.socket.on("leave-table",(async t=>{console.log("leave-table !",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):c.game.events.emit("evtLeaveTableJsBridge")}))}async DisconnectSocket(){this.socket.disconnect()}async LeaveRoomSuccess(){this.socket.on("leave-room-res",(async t=>{console.log("leave-room-res !",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):window.open(c.platformUrl,"_self")}))}async ReconnectSession(){this.socket.on("reconnect-session",(async t=>{console.log("reconnect-session !",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):(p.SetReconnectData(t.data),c.game.events.emit("evtReconnect"),c.game.events.emit("evtSocketConnection","socket reconnect"))}))}async TournamentHandsOver(){this.socket.on("hands-over",(async t=>{console.log("hands-over !",t),c.game.events.emit("evtTournamentStageOver",t.message)}))}async TournamentStageOverCounter(){this.socket.on("stage_over_coundown",(async t=>{console.log("stage_over_coundown !",t),p.tournamentstageOverCounter=t.counter,c.game.events.emit("evtTournamentStageOverCounter",t.counter)}))}async TournamentNextStage(){this.socket.on("next_stage_url",(async t=>{console.log("next_stage_url !",t),t.error?(c.isTournamentCompleted=!0,c.game.events.emit("evtHideTournamentStagePopup"),c.game.events.emit("evtShowAlert",t.message)):window.open(t.url,"_self")}))}async AutoMuck(){const t={authToken:p.GetAuthToken(),game_id:p.GetGameId(),auto_muck:this.isAutoMuck};console.log("auto-muck !",t),this.socket.emit("auto-muck",t)}async GetGameState(){const t={table_id:p.GetTableId()};console.log("get-game-state",t),this.socket.emit("get-game-state",t)}async GameState(){this.socket.on("game-state",(async t=>{console.log("game-state !",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):(p.SetGameStateData(t.data),c.game.events.emit("evtGameStateData"))}))}async UpdateChips(t){const e={table_id:p.GetTableId(),chips:t};console.log("update-chips",e),this.socket.emit("update-chips",e,(t=>{console.log("Acknowledgement from server:",t)}))}async UpdateChipsResponse(){this.socket.on("update-chips-res",(async t=>{console.log("update-chips-res",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t.data)?c.game.events.emit("evtShowAlert","data null"):(p.SetUpdateChipsData(t.data),c.game.events.emit("evtUpdateUserBalanceFromUpdateChips"))}))}async SpectatorPreFlop(){this.socket.on("spectator-pre-flop",(async t=>{console.log("spectator-pre-flop !",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):(p.SetGameStateData(t.data),c.game.events.emit("evtSpectatorPreFlop"))}))}async HandCooldownTimer(){this.socket.on("hand-cooldown-timer",(async t=>{console.log("hand-cooldown-timer !",t),t.error?c.game.events.emit("evtShowAlert",t.message):r.IsEmpty(t)?c.game.events.emit("evtShowAlert","data null"):c.game.events.emit("evtHandCooldownTimer",t.data)}))}},f=class{constructor(t){this.scene=t,this.loadingPopupContainer=null,this.overlay=null,this.wheelImage=null,this.create()}create(){this.CreateOverlay(),this.loadingPopupContainer=this.scene.add.container(0,0),this.loadingPopupContainer.setVisible(!1),this.loadingPopupContainer.setDepth(3),this.CreateWheelAnimation()}CreateOverlay(){this.overlay=this.scene.add.image(0,0,"overlay").setOrigin(0),this.overlay.setDisplaySize(this.scene.scale.width,this.scene.scale.height),this.overlay.setInteractive(),this.overlay.setDepth(3),this.overlay.setVisible(!1)}CreateWheelAnimation(){this.wheelImage=this.scene.add.sprite(0,0,"loading_wheel").setOrigin(.5),this.scene.anims.create({key:"loading_anim",frameRate:4,repeat:-1,frames:this.scene.anims.generateFrameNumbers("loading_wheel",{start:0,end:2})}),this.loadingPopupContainer.add(this.wheelImage)}ShowLoadingPopup(){this.overlay.setVisible(!0),this.loadingPopupContainer.setVisible(!0),this.wheelImage.play("loading_anim")}HideLoadingPopup(){this.overlay.setVisible(!1),this.loadingPopupContainer.setVisible(!1)}resize(t,e,s){this.overlay.setDisplaySize(t,e),this.loadingPopupContainer.setScale(s),this.loadingPopupContainer.setPosition(t/2,e/2)}},T=class{constructor(t){this.scene=t,this.winPopupContainer=null,this.overlay=null,this.winMessageText=null,this.winAmountText=null,this.winnerDataShowPosY=null,this.create()}create(){this.winnerDataShowPosY=-200,this.CreateOverlay(),this.winPopupContainer=this.scene.add.container(0,0),this.winPopupContainer.setVisible(!1),this.winPopupContainer.setDepth(2),this.CreateWinText()}CreateOverlay(){this.overlay=this.scene.add.image(0,0,"overlay").setOrigin(0),this.overlay.setDisplaySize(this.scene.scale.width,this.scene.scale.height),this.overlay.setInteractive(),this.overlay.setDepth(2),this.overlay.setVisible(!1)}CreateWinText(){}SetWinAmountAndName(t,e){this.winMessageText.setText(`${t} WIN`),this.winAmountText.setText(e)}ShowWinPopup(){this.winPopupContainer.setVisible(!0),this.overlay.setVisible(!0)}HideWinPopup(){this.winPopupContainer.setVisible(!1),this.overlay.setVisible(!1)}AdjustWinnerShowData(t){this.winnerDataShowPosY=-200,this.winMessageText.y=this.winnerDataShowPosY,this.winAmountText.y=this.winMessageText.y+120,this.chip.y=this.winAmountText.y-2}resize(t,e,s){this.overlay.setDisplaySize(t,e),this.winPopupContainer.setScale(s),this.winPopupContainer.setPosition(t/2,e/2)}},v=class{constructor(t){this.scene=t,this.alertPopupContainer=null,this.overlay=null,this.base=null,this.HeadingText=null,this.messageText=null,this.CreateAlertPopup()}CreateAlertPopup(){this.CreateOverlay(),this.alertPopupContainer=this.scene.add.container(0,0),this.alertPopupContainer.setDepth(5),this.CreateBaseAndText(),this.CreateCrossButton(),this.HideAlertPopup()}CreateOverlay(){this.overlay=this.scene.add.image(0,0,"overlay").setOrigin(0),this.overlay.setDisplaySize(this.scene.scale.width,this.scene.scale.height),this.overlay.setInteractive(),this.overlay.setDepth(5)}CreateBaseAndText(){this.base=this.scene.add.image(0,0,"popup_base").setOrigin(.5);const t={fontFamily:"Poppins-Regular",fontSize:"56px",fill:"#fff",fontStyle:"bold",align:"center",wordWrap:{width:this.base.width-30}};this.HeadingText=this.scene.add.text(this.base.x,this.base.y-150,"Alert !",t).setOrigin(.5);const e={fontFamily:"Poppins-Regular",fontSize:"40px",fill:"#fff",fontStyle:"bold",align:"center",wordWrap:{width:this.base.width-30}};this.messageText=this.scene.add.text(this.base.x,this.base.y+70,"Yes get error now go to game please",e).setOrigin(.5),this.alertPopupContainer.add([this.base,this.HeadingText,this.messageText])}CreateCrossButton(){this.crossButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"close_button"),this.crossButton.setClickCallback(this.OnCrossButtonClicked,this),this.crossButton.setDepth(5)}OnCrossButtonClicked(){this.HideAlertPopup(),c.isTournamentCompleted&&_.LeaveRoom()}ResizeCrossButton(t,e,s){this.crossButton.setScale(s),this.crossButton.setPosition(t/2+(this.base.width/2*s-80*s),e/2-(this.base.height/2*s-80*s))}ShowAlertPopup(t){this.messageText.setText(t),this.overlay.setVisible(!0),this.alertPopupContainer.setVisible(!0),this.crossButton.show(),this.crossButton.enable()}HideAlertPopup(){this.overlay.setVisible(!1),this.alertPopupContainer.setVisible(!1),this.crossButton.hide()}OverlayPressed(){}resize(t,e,s){this.overlay.setDisplaySize(t,e),this.alertPopupContainer.setScale(s),this.alertPopupContainer.setPosition(t/2,e/2),this.ResizeCrossButton(t,e,s)}},D=class{constructor(t){this.scene=t,this.leavingPopupContainer=null,this.overlay=null,this.create()}create(){this.CreateOverlay(),this.leavingPopupContainer=this.scene.add.container(0,0),this.leavingPopupContainer.setDepth(3),this.leavingPopupBase=this.scene.add.image(0,0,"popup_base"),this.leaveMessageText=this.scene.add.text(this.leavingPopupBase.x,this.leavingPopupBase.y-150,"Do You Want to Exit ?",{fontFamily:"Poppins-Regular",fontSize:"52px",fill:"#FFF3F2",fontStyle:"bold",align:"center"}).setOrigin(.5),this.leavingPopupContainer.add([this.leavingPopupBase,this.leaveMessageText]),this.CreatePopupButtons(),this.HideLeavingPopup()}CreateOverlay(){this.overlay=this.scene.add.image(0,0,"overlay").setOrigin(0),this.overlay.setDisplaySize(this.scene.scale.width,this.scene.scale.height),this.overlay.setInteractive(),this.overlay.setDepth(3)}CreatePopupButtons(){this.yesButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"buy_in_popup_yesBut"),this.yesButton.setClickCallback(this.OnYesButtonClicked,this),this.yesButton.setDepth(5);const t={fontFamily:"Poppins-Regular",fontSize:"36px",fill:"#fff",fontStyle:"normal",align:"center",wordWrap:{width:this.yesButton.width-10}};this.yesButton.setDepth(5),this.yesButtonText=this.scene.add.text(this.yesButton.x,this.yesButton.y,"Yes",t).setOrigin(.5).setDepth(5),this.noButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"buy_in_popup_noBut"),this.noButton.setClickCallback(this.OnNoButtonClicked,this),this.noButton.setDepth(5);const e={fontFamily:"Poppins-Regular",fontSize:"36px",fill:"#fff",fontStyle:"normal",align:"center",wordWrap:{width:this.noButton.width-10}};this.noButton.setDepth(5),this.noButtonText=this.scene.add.text(this.noButton.x,this.noButton.y,"No",e).setOrigin(.5).setDepth(5)}OnYesButtonClicked(){_.LeaveRoom(),this.HideLeavingPopup()}ResizeYesButton(t,e,s){this.yesButton.setScale(s),this.yesButton.setPosition(t/2-150*s,e/2+71*s),this.yesButtonText.setScale(s),this.yesButtonText.copyPosition(this.yesButton)}OnNoButtonClicked(){this.HideLeavingPopup()}ResizeNoButton(t,e,s){this.noButton.setScale(s),this.noButton.setPosition(t/2+150*s,e/2+71*s),this.noButtonText.setScale(s),this.noButtonText.copyPosition(this.noButton)}ShowLeavingPopup(){this.overlay.setVisible(!0),this.leavingPopupContainer.setVisible(!0),this.yesButton.show(),this.yesButton.enable(),this.noButton.show(),this.noButton.enable(),this.yesButtonText.setVisible(!0),this.noButtonText.setVisible(!0)}HideLeavingPopup(){this.overlay.setVisible(!1),this.leavingPopupContainer.setVisible(!1),this.yesButton.hide(),this.noButton.hide(),this.yesButtonText.setVisible(!1),this.noButtonText.setVisible(!1)}resize(t,e,s){this.overlay.setDisplaySize(t,e),this.leavingPopupContainer.setScale(s),this.leavingPopupContainer.setPosition(t/2,e/2),this.ResizeYesButton(t,e,s),this.ResizeNoButton(t,e,s)}},k=new class{constructor(){this.urlParams=new URLSearchParams(window.location.search),this.baseUrl="https://staginglocal.redappletech.com/poker-auth-service/api/v1/",this.buyInApiUrl="update-balance",this.updateUserBalanceApiUrl="get-updated-balance"}async GetData(t,e){try{const s=await(await fetch(t,e)).json();switch(!0){case 404===s.status:case 401===s.status:case 400===s.status:case 406===s.status:case s.error:throw new Error(s.message);default:return s}}catch(t){throw new Error(t.message)}}async PlaceBuyInApi(t,e){try{const s=new Headers;s.append("Content-Type","application/json"),s.append("token",p.GetAuthToken());const i={table_id:t,amount:e},a=this.baseUrl+this.buyInApiUrl,n={method:"POST",headers:s,body:JSON.stringify(i)};return await this.GetData(a,n)}catch(t){console.log("PlaceBuyInApi error: ",t)}}async UpdateUserBalance(){try{const t=new Headers;t.append("Content-Type","application/json"),t.append("token",p.GetAuthToken());const e=this.baseUrl+this.updateUserBalanceApiUrl,s={method:"GET",headers:t};return await this.GetData(e,s)}catch(t){console.log("updateUserBalanceApiUrl error: ",t)}}IsParamsMissing(){return!1}},I=class{constructor(t){this.scene=t,this.buyinPopupContainer=null,this.overlay=null,this.base=null,this.minAmount=0,this.maxAmount=0,this.amount=0,this.gameType=null,this.balance=null,this.minRange=null,this.maxRange=null,this.minVal=null,this.maxVal=null,this.buyAmountSliderConstantValueObj={containerPosX:-435,containerPosY:105,basePosX:0,basePosY:0,barPosX:0,barPosY:-20,amountTextPosX:10,amountTextPosY:40,clampMinRange:22.5,clampMaxRange:827.5,sliderMinVal:80,sliderMaxVal:500},this.CreateBuyinPopup()}CreateBuyinPopup(){this.SetAllBuyinPopupValueFromServer(),this.CreateOverlay(),this.buyinPopupContainer=this.scene.add.container(0,0),this.buyinPopupContainer.setDepth(3),this.CreateBaseAndHeadingText(),this.CreateGameTypeText(),this.CreateAvailableBalanceText(),this.CreateAutoBuyInButton(),this.CreateYesButton(),this.CreateNoButton(),this.CreateCurrentAmountSection(),this.CreateMinAmountButton(),this.CreateMaxAmountButton(),this.CreateBuyAmountSlider(),this.SetBuyinAmountMinMaxAmount(this.buyAmountSliderConstantValueObj.sliderMinVal,this.buyAmountSliderConstantValueObj.sliderMaxVal),this.HideBuyinPopup()}SetAllBuyinPopupValueFromServer(){const t=p.GetMinBuyInAmount(),e=p.GetMaxBuyInAmount();this.gameType=r.GetGameTypeByName(p.GetGameType()),this.balance=p.GetLocalPlayerData().balance.total_balance,this.minAmount=t,this.amount=this.minAmount,this.maxAmount=e,this.buyAmountSliderConstantValueObj.sliderMinVal=t,this.buyAmountSliderConstantValueObj.sliderMaxVal=e}CreateOverlay(){this.overlay=this.scene.add.image(0,0,"overlay").setOrigin(0),this.overlay.setDisplaySize(this.scene.scale.width,this.scene.scale.height),this.overlay.setInteractive(),this.overlay.setDepth(3)}CreateBaseAndHeadingText(){this.buyinPopupBase=this.scene.add.image(0,7,"buyin_popup_base");const t={fontFamily:"Poppins-SemiBold",fontSize:"52px",fill:"#fff",fontStyle:"bold",align:"center",wordWrap:{width:this.buyinPopupBase.width-20}};this.buyinHeadingText=this.scene.add.text(this.buyinPopupBase.x,this.buyinPopupBase.y-420,"Buy-In",t).setOrigin(.5),this.buyinPopupContainer.add([this.buyinPopupBase,this.buyinHeadingText])}CreateGameTypeText(){const t={fontFamily:"Poppins-regular",fontSize:"36px",fill:"#7F8FA6",fontStyle:"normal",align:"center",wordWrap:{width:this.buyinPopupBase.width-10}};this.gameTypeHeadingText=this.scene.add.text(-280,-260,"Game Type",t).setOrigin(.5);const e={fontFamily:"Poppins-regular",fontSize:"36px",fill:"#D2DAE2",fontStyle:"normal",align:"center",wordWrap:{width:this.buyinPopupBase.width/2-10}};this.gameTypeDynamicText=this.scene.add.text(60,-260,this.gameType,e).setOrigin(0,.5),this.buyinPopupContainer.add([this.gameTypeHeadingText,this.gameTypeDynamicText])}CreateAvailableBalanceText(){const t={fontFamily:"Poppins-regular",fontSize:"36px",fill:"#7F8FA6",fontStyle:"normal",align:"center",wordWrap:{width:this.buyinPopupBase.width-10}};this.availableBalanceHeadingText=this.scene.add.text(-225,-180,"Available Balance",t).setOrigin(.5),this.pokerChip=this.scene.add.image(75,-180,"poker_chip_popup");const e={fontFamily:"Poppins-regular",fontSize:"36px",fill:"#FFF3F2",fontStyle:"normal",align:"center",wordWrap:{width:this.buyinPopupBase.width/2-10}};this.availableBalanceDynamicText=this.scene.add.text(this.pokerChip.x+20,this.pokerChip.y,`$ ${this.balance}.00`,e).setOrigin(0,.5),this.buyinPopupContainer.add([this.availableBalanceHeadingText,this.pokerChip,this.availableBalanceDynamicText])}SetAvailableBalance(t){this.availableBalanceDynamicText.setText(`$ ${t}.00`)}CreateAutoBuyInButton(){this.autoBuyInButtonBase=new P(this.scene,0,0,"buyin_bottom_base"),this.autoBuyInButtonBase.setDepth(5),this.autoBuyInButtonBase.setClickCallback(this.OnAutoBuiInButtonClicked,this);const t={fontFamily:"Poppins-regular",fontSize:"36px",fill:"#D2DAE2",fontStyle:"normal",align:"center",wordWrap:{width:this.autoBuyInButtonBase.width-10}};this.autoBuyInButtonText=this.scene.add.text(this.autoBuyInButtonBase.x,this.autoBuyInButtonBase.y,"ACTIVATE AUTO BUY IN & AUTO RE BUY",t).setOrigin(.5).setDepth(5)}OnAutoBuiInButtonClicked(){console.log("coming soon")}ResizeAutoBuiInButton(t,e,s){this.autoBuyInButtonBase.setScale(s),this.autoBuyInButtonBase.setPosition(t/2,e/2+241*s),this.autoBuyInButtonText.setScale(s),this.autoBuyInButtonText.copyPosition(this.autoBuyInButtonBase)}async ShowBuyinPopup(){const t=await k.UpdateUserBalance();this.SetAvailableBalance(t.data.total_balance),this.overlay.setVisible(!0),this.buyinPopupContainer.setVisible(!0),this.yesButton.show(),this.yesButton.enable(),this.yesButtonText.setVisible(!0),this.noButton.show(),this.noButton.enable(),this.noButtonText.setVisible(!0),this.autoBuyInButtonBase.show(),this.autoBuyInButtonBase.enable(),this.autoBuyInButtonText.setVisible(!0),this.ShowMinAmountButton(),this.ShowMaxAmountButton(),this.ShowCurrentAmountSection(),this.ShowbuyAmountSlide()}HideBuyinPopup(){this.overlay.setVisible(!1),this.buyinPopupContainer.setVisible(!1),this.yesButton.hide(),this.yesButtonText.setVisible(!1),this.noButton.hide(),this.noButtonText.setVisible(!1),this.autoBuyInButtonBase.hide(),this.autoBuyInButtonText.setVisible(!1),this.HideMinAmountButton(),this.HideMaxAmountButton(),this.HideCurrentAmountSection(),this.HidebuyAmountSlide()}CreateYesButton(){this.yesButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"buy_in_popup_yesBut"),this.yesButton.setClickCallback(this.OnYesButtonClicked,this),this.yesButton.setDepth(5);const t={fontFamily:"Poppins-Regular",fontSize:"36px   ",fill:"#D2DAE2",fontStyle:"normal",align:"center",wordWrap:{width:this.yesButton.width-10}};this.yesButtonText=this.scene.add.text(this.yesButton.x,this.yesButton.y,"Yes",t).setOrigin(.5).setDepth(5)}async OnYesButtonClicked(){if(this.balance>this.amount){const t=await k.PlaceBuyInApi(p.GetTableId(),this.amount);console.log("buyInRespone !",t),t.error?this.scene.alertPopup.ShowAlertPopup(t.message):(p.SetBuyInAmount(t.data.buy_in),c.game.events.emit("evtBuyInSuccess"))}else this.scene.alertPopup.ShowAlertPopup("Insufficient Balance");this.HideBuyinPopup()}ResizeYesButton(t,e,s){this.yesButton.setScale(s),this.yesButton.setPosition(t/2-156*s,e/2+396*s),this.yesButtonText.setScale(s),this.yesButtonText.copyPosition(this.yesButton)}CreateNoButton(){this.noButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"buy_in_popup_noBut"),this.noButton.setClickCallback(this.OnNoButtonClicked,this),this.noButton.setDepth(5);const t={fontFamily:"Poppins-Regular",fontSize:"36px   ",fill:"#D2DAE2",fontStyle:"normal",align:"center",wordWrap:{width:this.noButton.width-10}};this.noButton.setDepth(5),this.noButtonText=this.scene.add.text(this.noButton.x,this.noButton.y,"No",t).setOrigin(.5).setDepth(5)}OnNoButtonClicked(){this.HideBuyinPopup(),this.scene.SitOut()}ResizeNoButton(t,e,s){this.noButton.setScale(s),this.noButton.setPosition(t/2+156*s,e/2+396*s),this.noButtonText.setScale(s),this.noButtonText.copyPosition(this.noButton)}CreateCloseButton(){this.closeButton=new P(this.scene,0,0,"close_button"),this.closeButton.setClickCallback(this.OnCloseButtonClicked,this),this.closeButton.setDepth(5),this.closeButton.hide()}OnCloseButtonClicked(){this.HideBuyinPopup()}ResizeCloseButton(t,e,s){this.closeButton.setScale(s),this.closeButton.setPosition(t/2+400*s,e/2-520*s)}CreateCurrentAmountSection(){this.amountBase=this.scene.add.image(Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"buy_in_amount_base");const t={fontFamily:"Poppins-Regular",fontSize:"34px",fill:"#fff",fontStyle:"normal",align:"center",wordWrap:{width:this.amountBase.width-10}};this.amountBase.setDepth(5),this.amountBaseText=this.scene.add.text(this.amountBase.x,this.amountBase.y,`$ ${this.amount}`,t).setOrigin(.5).setDepth(5)}ResizeCurrentAmountSection(t,e,s){this.amountBase.setScale(s),this.amountBase.setPosition(t/2,e/2-15*s),this.amountBaseText.setScale(s),this.amountBaseText.copyPosition(this.amountBase)}ShowCurrentAmountSection(){this.amountBase.setVisible(!0),this.amountBaseText.setVisible(!0)}HideCurrentAmountSection(){this.amountBase.setVisible(!1),this.amount=this.minAmount,this.amountBaseText.setText(`$ ${this.amount}`),this.amountBaseText.setVisible(!1)}CreateMinAmountButton(){this.minAmountButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"buy_in_minmaxamount_base"),this.minAmountButton.setClickCallback(this.OnMinAmountButtonClicked,this);const t={fontFamily:"Poppins-Regular",fontSize:"34px",fill:"#fff",fontStyle:"normal",align:"center",wordWrap:{width:this.minAmountButton.width-10}};this.minAmountButton.setDepth(5),this.minAmountButtonText=this.scene.add.text(this.minAmountButton.x,this.minAmountButton.y,`MIN $${this.minAmount}`,t).setOrigin(.5).setDepth(5)}async OnMinAmountButtonClicked(){if(this.balance>this.minAmount){const t=await k.PlaceBuyInApi(p.GetTableId(),this.minAmount);console.log("buyInRespone !",t),t.error?this.scene.alertPopup.ShowAlertPopup(t.message):(p.SetBuyInAmount(t.data.buy_in),c.game.events.emit("evtBuyInSuccess"))}else this.scene.alertPopup.ShowAlertPopup("Insufficient Balance");this.HideBuyinPopup()}ResizeMinAmountButton(t,e,s){this.minAmountButton.setScale(s),this.minAmountButton.setPosition(t/2-280*s,e/2-15*s),this.minAmountButtonText.setScale(s),this.minAmountButtonText.copyPosition(this.minAmountButton)}ShowMinAmountButton(){this.minAmountButton.enable(),this.minAmountButton.show(),this.minAmountButtonText.setVisible(!0)}HideMinAmountButton(){this.minAmountButton.hide(),this.minAmountButtonText.setVisible(!1)}CreateMaxAmountButton(){this.maxAmountButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"buy_in_minmaxamount_base"),this.maxAmountButton.setClickCallback(this.OnMaxAmountButtonClicked,this);const t={fontFamily:"Poppins-Regular",fontSize:"34px",fill:"#fff",fontStyle:"normal",align:"center",wordWrap:{width:this.maxAmountButton.width-10}};this.maxAmountButton.setDepth(5),this.maxAmountButtonText=this.scene.add.text(this.maxAmountButton.x,this.maxAmountButton.y,`MAX $${this.maxAmount}`,t).setOrigin(.5).setDepth(5)}async OnMaxAmountButtonClicked(){if(this.balance>this.maxAmount){const t=await k.PlaceBuyInApi(p.GetTableId(),this.maxAmount);console.log("buyInRespone !",t),t.error?this.scene.alertPopup.ShowAlertPopup(t.message):(p.SetBuyInAmount(t.data.buy_in),c.game.events.emit("evtBuyInSuccess"))}else this.scene.alertPopup.ShowAlertPopup("Insufficient Balance");this.HideBuyinPopup()}ResizeMaxAmountButton(t,e,s){this.maxAmountButton.setScale(s),this.maxAmountButton.setPosition(t/2+280*s,e/2-15*s),this.maxAmountButtonText.setScale(s),this.maxAmountButtonText.copyPosition(this.maxAmountButton)}ShowMaxAmountButton(){this.maxAmountButton.enable(),this.maxAmountButton.show(),this.maxAmountButtonText.setVisible(!0),this.balance<this.maxAmount&&(this.maxAmountButton.disable(),this.maxAmountButtonText.setAlpha(.5))}HideMaxAmountButton(){this.maxAmountButton.hide(),this.maxAmountButtonText.setVisible(!1)}SetBuyinAmountMinMaxAmount(t,e){this.minRange=this.buyAmountSliderConstantValueObj.clampMinRange,this.maxRange=this.buyAmountSliderConstantValueObj.clampMaxRange,this.minVal=t,this.maxVal=e,this.limitParam=(this.maxRange-this.minRange)/(this.maxVal-this.minVal)}CreateBuyAmountSlider(){this.sliderContainer=this.scene.add.container(0,0).setDepth(5),this.buyAmountSlideBase=this.scene.add.image(this.buyAmountSliderConstantValueObj.basePosX,this.buyAmountSliderConstantValueObj.basePosY,"buy_in_slider_bar").setOrigin(0),this.buyAmountSlideBar=this.scene.add.image(this.buyAmountSliderConstantValueObj.basePosX,this.buyAmountSliderConstantValueObj.basePosY,"buy_in_slider_base").setOrigin(0),this.buyAmountSlideChip=this.scene.add.image(this.buyAmountSliderConstantValueObj.basePosX+15,this.buyAmountSliderConstantValueObj.basePosY+7,"buy_in_slider_chip").setOrigin(.5),this.buyAmountSlideKnob=this.scene.add.image(this.buyAmountSliderConstantValueObj.barPosX+22.5,this.buyAmountSliderConstantValueObj.barPosY-8,"raise_slider").setOrigin(0),this.buyAmountSlideKnob.setData("name","BuyinSlider"),this.buyAmountSlideBar.setCrop(0,0,0,25),this.buyAmountSlideKnob.setInteractive({draggable:!0}),this.sliderContainer.add([this.buyAmountSlideBase,this.buyAmountSlideBar,this.buyAmountSlideChip,this.buyAmountSlideKnob]),this.scene.input.on("drag",((t,e,s)=>{if("BuyinSlider"===e.getData("name")){s=a().Math.Clamp(s,this.minRange,this.maxRange),this.buyinAmount=s/this.limitParam-this.minRange/this.limitParam;const t=s/8.7+2-this.minRange/8.7;this.buyAmountSlideBar.setCrop(0,0,this.buyAmountSliderConstantValueObj.clampMinRange+this.buyAmountSlideBar.width*(.01*t),this.buyAmountSlideBase.height),e.x=Math.round(s),this.amount=parseInt(this.buyinAmount+this.minVal);const i=this.amount>=1e3?`${(parseFloat(this.amount)/1e3).toFixed(2)}k`:parseFloat(this.amount).toFixed(0);this.amountBaseText.setText(`$ ${i}`)}})),console.log("on change after : ",this.amount)}ShowbuyAmountSlide(){this.sliderContainer.setVisible(!0)}HidebuyAmountSlide(){this.buyAmountSlideKnob.setPosition(this.buyAmountSliderConstantValueObj.barPosX+22.5,this.buyAmountSliderConstantValueObj.barPosY-8),this.buyAmountSlideBar.setCrop(0,0,0,25),this.sliderContainer.setVisible(!1)}ResizebuyAmountSlide(t,e,s){this.sliderContainer.setScale(s),this.sliderContainer.setPosition(t/2+this.buyAmountSliderConstantValueObj.containerPosX*s,e/2+this.buyAmountSliderConstantValueObj.containerPosY*s)}resize(t,e,s){this.overlay.setDisplaySize(t,e),this.buyinPopupContainer.setScale(s),this.buyinPopupContainer.setPosition(t/2,e/2),this.ResizeYesButton(t,e,s),this.ResizeNoButton(t,e,s),this.ResizeAutoBuiInButton(t,e,s),this.ResizeMinAmountButton(t,e,s),this.ResizeMaxAmountButton(t,e,s),this.ResizeCurrentAmountSection(t,e,s),this.ResizebuyAmountSlide(t,e,s)}},R=class{constructor(t){this.scene=t,this.CreateSettingPopup()}CreateSettingPopup(){this.CreateOverlay(),this.settingPopupContainer=this.scene.add.container(0,0),this.settingPopupContainer.setVisible(!1),this.settingPopupContainer.setDepth(3),this.settingMessageText=this.scene.add.text(0,-110,"SETTINGS",{fontFamily:"Poppins-Regular",fontSize:"32px",fill:"#FFF3F2",fontStyle:"bold",align:"center"}).setOrigin(.5),this.settingPopupBase=this.scene.add.image(0,0,"popup_base"),this.settingPopupContainer.add([this.settingPopupBase,this.settingMessageText]),this.CreateSoundButton(),this.CreateMusicButton(),this.CreateCloseButton(),this.DefaultSoundButton(),this.DefaultMusicButton()}CreateOverlay(){this.overlay=this.scene.add.image(0,0,"overlay").setOrigin(0),this.overlay.setDisplaySize(this.scene.scale.width,this.scene.scale.height),this.overlay.setInteractive(),this.overlay.setDepth(3),this.overlay.setVisible(!1)}ShowSettingPopup(){this.overlay.setVisible(!0),this.settingPopupContainer.setVisible(!0),this.soundButton.enable(),this.soundButton.show(),this.soundButtonText.setVisible(!0),this.musicButton.enable(),this.musicButton.show(),this.musicButtonText.setVisible(!0),this.closeButton.enable(),this.closeButton.show()}HideSettingPopup(){this.overlay.setVisible(!1),this.settingPopupContainer.setVisible(!1),this.soundButton.hide(),this.soundButtonText.setVisible(!1),this.musicButton.hide(),this.musicButtonText.setVisible(!1),this.closeButton.hide()}CreateSoundButton(){this.soundButton=new P(this.scene,0,0,"toggle_button",!0),this.soundButton.setFrame(1),this.soundButtonText=this.scene.add.text(0,-110,"Sound",{fontFamily:"Poppins-Regular",fontSize:"22px",fill:"#FFF3F2",fontStyle:"normal",align:"center"}).setOrigin(0,.5).setVisible(!1),this.soundButton.setClickCallback(this.OnSoundButtonClicked,this),this.soundButton.setDepth(5),this.soundButtonText.setDepth(5),this.soundButton.hide()}OnSoundButtonClicked(){this.ToggleSoundButton()}ResizeSoundButton(t,e,s){this.soundButton.setScale(s),this.soundButton.setPosition(t/2-100*s,e/2),this.soundButtonText.setScale(s),this.soundButtonText.setPosition(this.soundButton.x+100*s,this.soundButton.y)}CreateMusicButton(){this.musicButton=new P(this.scene,0,0,"toggle_button",!0),this.musicButton.setFrame(1),this.musicButtonText=this.scene.add.text(0,-110,"Music",{fontFamily:"Poppins-Regular",fontSize:"22px",fill:"#FFF3F2",fontStyle:"normal",align:"center"}).setOrigin(0,.5).setVisible(!1),this.musicButton.setClickCallback(this.OnMusicButtonClicked,this),this.musicButton.setDepth(5),this.musicButtonText.setDepth(5),this.musicButton.hide()}OnMusicButtonClicked(){this.ToggleMusicButton()}ResizeMusicButton(t,e,s){this.musicButton.setScale(s),this.musicButton.setPosition(t/2-100*s,e/2+100*s),this.musicButtonText.setScale(s),this.musicButtonText.setPosition(this.musicButton.x+100*s,this.musicButton.y)}CreateCloseButton(){this.closeButton=new P(this.scene,0,0,"close_button"),this.closeButton.setClickCallback(this.OnCloseButtonClicked,this),this.closeButton.setDepth(5),this.closeButton.hide()}OnCloseButtonClicked(){this.HideSettingPopup()}ResizeCloseButton(t,e,s){this.closeButton.setScale(s),this.closeButton.setPosition(t/2+314.56*s,e/2-120*s)}DefaultSoundButton(){null===localStorage.getItem("texas_poker_is_sound_on")&&localStorage.setItem("texas_poker_is_sound_on","1"),"1"===localStorage.getItem("texas_poker_is_sound_on")?this.soundButton.setFrame(1):this.soundButton.setFrame(0)}ToggleSoundButton(){"1"===localStorage.getItem("texas_poker_is_sound_on")?(localStorage.setItem("texas_poker_is_sound_on","0"),this.soundButton.setFrame(0)):(localStorage.setItem("texas_poker_is_sound_on","1"),this.soundButton.setFrame(1))}DefaultMusicButton(){null===localStorage.getItem("texas_poker_is_music_on")&&localStorage.setItem("texas_poker_is_music_on","1"),"1"===localStorage.getItem("texas_poker_is_music_on")?this.musicButton.setFrame(1):this.musicButton.setFrame(0)}ToggleMusicButton(){"1"===localStorage.getItem("texas_poker_is_music_on")?(localStorage.setItem("texas_poker_is_music_on","0"),this.musicButton.setFrame(0)):(localStorage.setItem("texas_poker_is_music_on","1"),this.musicButton.setFrame(1))}resize(t,e,s){this.overlay.setDisplaySize(t,e),this.settingPopupContainer.setScale(s),this.settingPopupContainer.setPosition(t/2,e/2),this.ResizeSoundButton(t,e,s),this.ResizeMusicButton(t,e,s),this.ResizeCloseButton(t,e,s)}},F=class{constructor(t){this.scene=t,this.tournamentStageOverContainer=null,this.overlay=null,this.base=null,this.CreateTournamentStageOverPopup()}CreateTournamentStageOverPopup(){this.CreateOverlay(),this.tournamentStageOverContainer=this.scene.add.container(0,0),this.tournamentStageOverContainer.setDepth(5),this.base=this.scene.add.image(0,0,"popup_base").setOrigin(.5);const t={fontFamily:"Poppins-Regular",fontSize:"45px",fill:"#fff",fontStyle:"bold",align:"center",wordWrap:{width:this.base.width-10}};this.messageText=this.scene.add.text(this.base.x,this.base.y+35,"",t).setOrigin(.5),this.messageCounter=this.scene.add.text(this.base.x,this.base.y-150,"",t).setOrigin(.5),this.tournamentStageOverContainer.add([this.base,this.messageText,this.messageCounter]),this.CreateCrossButton(),this.HideTournamentStageOverPopup()}CreateOverlay(){this.overlay=this.scene.add.image(0,0,"overlay").setOrigin(0),this.overlay.setDisplaySize(this.scene.scale.width,this.scene.scale.height),this.overlay.setInteractive(),this.overlay.setDepth(5)}CreateCrossButton(){this.crossButton=new P(this.scene,Math.round(this.scene.scale.width/2),Math.round(this.scene.scale.height),"close_button"),this.crossButton.setClickCallback(this.OnCrossButtonClicked,this),this.crossButton.setDepth(5)}OnCrossButtonClicked(){}ResizeCrossButton(t,e,s){this.crossButton.setScale(s),this.crossButton.setPosition(t/2+(this.base.width/2*s-40*s),e/2-(this.base.height/2*s-50*s))}ShowTournamentStageOverPopup(t){this.messageText.setText(t),this.overlay.setVisible(!0),this.tournamentStageOverContainer.setVisible(!0)}HideTournamentStageOverPopup(){this.overlay.setVisible(!1),this.tournamentStageOverContainer.setVisible(!1),this.crossButton.hide()}UpdateStageOverCounter(t){this.messageCounter.setText(t)}OverlayPressed(){}resize(t,e,s){this.overlay.setDisplaySize(t,e),this.tournamentStageOverContainer.setScale(s),this.tournamentStageOverContainer.setPosition(t/2,e/2),this.ResizeCrossButton(t,e,s)}};class O{constructor(t){this.scene=t,this.CreatePlayerPlacedAnim()}CreatePlayerPlacedAnim(){this.playerPosArray=[{x:6,y:485},{x:-385,y:56},{x:-330,y:-421},{x:0,y:-684},{x:334,y:-421},{x:387,y:56}],this.placedAnimContainerArray=[];const t={fontFamily:"Poppins-Regular",fontSize:"32px",fill:"#FFF3F2",fontStyle:"normal",align:"center"};for(let e=0;e<this.scene.placeHolderContainerArray.length;e++){const s=this.scene.add.container(0,0).setVisible(!1).setDepth(2),i=this.scene.add.image(0,0,"user_base").setOrigin(.5),a=this.scene.add.image(0,0,"sit_in_arrow").setOrigin(.5),n=this.scene.add.text(0,90,"Poker",t).setOrigin(.5).setVisible(!1),o=this.scene.add.image(0,-8,"profile_pic_0").setOrigin(.5).setVisible(!1);s.add([i,a,n,o]),s.setSize(i.width,i.height),s.index=e,this.placedAnimContainerArray.push(s)}}PlayerPlacedAnim(t,e){let s;if(this.scene.allPlayerArray.forEach((t=>{t.playerContainer.setVisible(!1)})),t&&(s=this.placedAnimContainerArray[t].list.length-1),!0===e){const e=p.GetLocalPlayerData();s&&(e.profile.profile_pic?this.placedAnimContainerArray[t].list[s].setTexture(e.profile.profile_pic):this.placedAnimContainerArray[t].list[s].setTexture("profile_pic_0"),this.placedAnimContainerArray[t].list[s].setVisible(!0),this.placedAnimContainerArray[t].list[s-1].setText(p.GetLocalUserName()),this.placedAnimContainerArray[t].list[s-1].setVisible(!0))}p.GetPlayersData().forEach((t=>{t.profile.profile_pic?this.placedAnimContainerArray[t.seat_no].list[s].setTexture(t.profile.profile_pic):this.placedAnimContainerArray[t.seat_no].list[s].setTexture("profile_pic_0"),this.placedAnimContainerArray[t.seat_no].list[s].setVisible(!0),this.placedAnimContainerArray[t.seat_no].list[s-1].setText(t.user_name),this.placedAnimContainerArray[t.seat_no].list[s-1].setVisible(!0)}));for(let s=0;s<this.placedAnimContainerArray.length;s++)e?this.PlacedAnimLoopSitIn(t,1,s,t):this.PlacedAnimLoopSitOut(s,t,-1*(t-1),t)}PlacedAnimLoopSitOut(t,e,s,i){s=(s+t+6)%6,e>0&&this.scene.add.tween({targets:this.placedAnimContainerArray[t],x:this.scene.placeHolderContainerArray[s].x,y:this.scene.placeHolderContainerArray[s].y,duration:1500/i,ease:"Power2",onComplete:()=>{s=s>4?s-6:s,s+=this.SetCurrentIndex(t),this.PlacedAnimLoopSitOut(t,e-1,s,i)}}),5===t&&0===e&&(this.scene.ControlPlayerAndEmptyPlaceVisibility(),this.placedAnimContainerArray.forEach((t=>{t.setVisible(!1),t.list.slice(-2).forEach((t=>t.setVisible(!1)))})))}SetCurrentIndex(t){switch(t){case 0:return 1;case 1:return 0;case 2:return-1;case 3:return-2;case 4:return-3;case 5:return-4}}PlacedAnimLoopSitIn(t,e,s,i){const a=(this.placedAnimContainerArray[s].index-e+6)%6;this.scene.add.tween({targets:this.placedAnimContainerArray[s],x:this.scene.placeHolderContainerArray[a].x,y:this.scene.placeHolderContainerArray[a].y,ease:"Power2",duration:1500/i,callbackScope:this,onComplete:function(){t--,e++,t>0&&this.PlacedAnimLoopSitIn(t,e,s,i),s===this.placedAnimContainerArray.length-1&&0===t&&(this.scene.ControlPlayerAndEmptyPlaceVisibility(),this.placedAnimContainerArray.forEach((t=>{t.setVisible(!1),t.list.slice(-2).forEach((t=>t.setVisible(!1)))})))}})}SitOutResizePlayerPlaceHolderAnim(t,e,s,i){for(let a=0;a<this.placedAnimContainerArray.length;a++){let n=a-i;n<0&&(n+=6),this.placedAnimContainerArray[a].setScale(s),this.placedAnimContainerArray[a].setPosition(t/2+this.playerPosArray[n].x*s,e/2+this.playerPosArray[n].y*s)}}ResizePlayerPlaceHolderAnim(t,e,s){for(let i=0;i<this.placedAnimContainerArray.length;i++)this.placedAnimContainerArray[i].setScale(s),this.placedAnimContainerArray[i].setPosition(t/2+this.playerPosArray[i].x*s,e/2+this.playerPosArray[i].y*s)}}const H=class{constructor(t){this.scene=t,this.CreateHandCoolDownTimerPopup()}CreateHandCoolDownTimerPopup(){this.CreateHandCoolDownTimerPopupData(),this.ShowHideHandCoolDownTimerPopup(!1)}CreateOverlay(){this.overlay=this.scene.add.image(0,0,"overlay").setOrigin(0),this.overlay.setDisplaySize(this.scene.scale.width,this.scene.scale.height),this.overlay.setInteractive(),this.overlay.setDepth(3)}CreateHandCoolDownTimerPopupData(){this.timerMsgText=this.scene.add.text(0,0,"Time remaining",{fontFamily:"Poppins-Regular",fontSize:"70px",fill:"#fff",fontStyle:"bold",align:"center"}).setOrigin(.5).setDepth(5),this.timerValueText=this.scene.add.text(0,0,"",{fontFamily:"Poppins-Regular",fontSize:"50px",fill:"#fff",fontStyle:"bold",align:"center"}).setOrigin(.5).setDepth(5)}ShowHideHandCoolDownTimerPopup(t){this.timerMsgText.setVisible(t),this.timerValueText.setVisible(t)}UpdateTimerValueText(t){this.timerValueText.setText(t)}resize(t,e,s){this.timerMsgText.setScale(s),this.timerMsgText.setPosition(t/2,50*s),this.timerValueText.setScale(s),this.timerValueText.setPosition(this.timerMsgText.x,this.timerMsgText.y+100*s)}},V=new class{constructor(){this.listeners={},this.setupMessageListener()}getMobileOperatingSystem(){const t=navigator.userAgent||navigator.vendor||window.opera;return/android/i.test(t)?"Android":/iPad|iPhone|iPod/.test(t)&&!window.MSStream?"iOS":"Browser"}sendMessageForAnalytics(t,e){const s=this.getMobileOperatingSystem(),i=JSON.stringify(e);switch(s){case"Android":try{console.log(`Android - ${t} called`,i),window.parent.postMessage({eventName:t,data:i},"*"),JSBridge[t](i)}catch(t){console.error(`Android JS Bridge error: ${t}`)}break;case"iOS":try{console.log(`iOS - ${t} called`,i),window.parent.postMessage({eventName:t,data:i},"*");const e={[t]:i};window.webkit.messageHandlers.jsHandler.postMessage(JSON.stringify(e))}catch(t){console.error(`iOS JS Bridge error: ${t}`)}break;default:try{console.log(`Browser - ${t} called`,i),window.parent.postMessage({eventName:t,data:i},"*")}catch(t){console.error(`Browser JS Bridge error: ${t}`)}}}emit(t,e){console.log(`${t} =====> ${JSON.stringify(e)}`),this.sendMessageForAnalytics(t,e)}listen(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}trigger(t,e){this.listeners[t]&&this.listeners[t].forEach((t=>t(e)))}setupMessageListener(){window.addEventListener("message",(t=>{const{eventName:e,data:s}=t.data||{};e&&this.listeners[e]&&this.trigger(e,s)}))}};class G extends a().Scene{constructor(){super("GameScene"),this.bottomPanel=null,this.upperPanel=null,this.table=null,this.allPlayerArray=[],this.blindAnimCount=0,this.chipArray=[],this.currentBet=0,this.currentRound=null,this.loadingPopup=null,this.winPopup=null,this.alertPopup=null,this.cardAnimArray=[],this.currentPlayerId=null,this.totalTurnTime=null,this.currentNewScale=null,this.placeHolderContainerArray=[],this.sittingAnimPopup=null,this.localSitinIndex=null,this.currentSitIndexPressed=null,this.buyInZeroPlayerFound=!1,this.isShowHandCooldownTimer=!1}init(){}preload(){this.device=c.isMobile?"OnMobile":"OnDesktop"}create(){this.game.events.on("resize",this.resize,this),this.game.events.on("evtCreatePlayer",this.CreatePlayer,this),this.game.events.on("evtInactivePlayer",this.InactivePlayer,this),this.game.events.on("evtShowSmallAndBigBlind",this.ShowSmallAndBigBlind,this),this.game.events.on("evtShowBlindDeductAnimation",this.ShowBlindAmountDeductAnimation,this),this.game.events.on("evtShowCardDistributionAnimation",this.ShowCardDistributionAnimation,this),this.game.events.on("evtChangeTurn",this.ShowPlayerTurn,this),this.game.events.on("evtShowTimer",this.SetPlayerTimer,this),this.game.events.on("evtUpdatePotValue",this.OnUpdatePotValue,this),this.game.events.on("evtDealFlopRound",this.ShowFlopRound,this),this.game.events.on("evtDealTurnRound",this.ShowTurnRound,this),this.game.events.on("evtDealRiverRound",this.ShowRiverRound,this),this.game.events.on("evtShowDownRound",this.ShowShowDownRound,this),this.game.events.on("evtReplayHand",this.ShowReplayHand,this),this.game.events.on("evtReconnect",this.ReconnectPlayer,this),this.game.events.on("evtShowAlert",this.ShowAlertPopup,this),this.game.events.on("evtTournamentStageOver",this.TournamentStageOverPopupShow,this),this.game.events.on("evtHideTournamentStagePopup",this.TournamentStageOverPopupHide,this),this.game.events.on("evtTournamentStageOverCounter",this.TournamentStageOverCounterUpdate,this),this.game.events.on("evtRecieveMessage",this.CreateRecieveMessage,this),this.game.events.on("evtBuyInSuccess",this.OnBuyInSuccess,this),this.game.events.on("evtUpdateUserBalanceFromUpdateChips",this.OnUpdateUserBalanceFromUpdateChips,this),this.game.events.on("evtGettingAckFromSitIn",this.OnSitInAckSuccess,this),this.game.events.on("evtGameStateData",this.GameStateData,this),this.game.events.on("evtSpectatorPreFlop",this.SpectatorPreFlopBackCardShow,this),this.game.events.on("evtHandCooldownTimer",this.HandCooldownTimer,this),this.game.events.on("evtLeaveTableJsBridge",this.LeaveTableViaJsBridge,this),this.game.events.on("evtUserTimeEnd",this.OnUserTimerEnd,this),this.game.events.on("evtSocketConnection",this.TempDebug,this),this.playerPosArray=[{x:6,y:485},{x:-385,y:56},{x:-330,y:-421},{x:0,y:-684},{x:334,y:-421},{x:387,y:56}],this.userInfoDataArray=[{x:0,y:110,nameBaseXoffset:0,nameTextOrigin:.5,offsetXUserBalance:-15,distFactor:10},{x:0,y:110,nameBaseXoffset:0,nameTextOrigin:.5,offsetXUserBalance:-15,distFactor:10},{x:0,y:110,nameBaseXoffset:0,nameTextOrigin:.5,offsetXUserBalance:-15,distFactor:10},{x:0,y:110,nameBaseXoffset:0,nameTextOrigin:.5,offsetXUserBalance:-15,distFactor:10},{x:0,y:110,nameBaseXoffset:0,nameTextOrigin:.5,offsetXUserBalance:-15,distFactor:10},{x:0,y:110,nameBaseXoffset:0,nameTextOrigin:.5,offsetXUserBalance:-15,distFactor:10}],this.userDecisionBaseArray=[{x:-140,y:-40,offsetX:-35,originX:1},{x:-60,y:-220,offsetX:35,originX:0},{x:-60,y:-220,offsetX:35,originX:0},{x:110,y:40,offsetX:35,originX:0},{x:-60,y:-220,offsetX:35,originX:0},{x:-60,y:-220,offsetX:35,originX:0}],this.userDealerPosArray=[{x:65,y:45},{x:65,y:45},{x:65,y:45},{x:65,y:45},{x:65,y:45},{x:65,y:45}],this.userSmallBigBlindPosArray=[{x:-65,y:45},{x:-65,y:45},{x:-65,y:45},{x:-65,y:45},{x:-65,y:45},{x:-65,y:45}],this.CurrentBetShowAreaPosArray=[{x:0,y:-250,allignment:1},{x:230,y:40,allignment:0},{x:237,y:131,allignment:0},{x:0,y:227,allignment:2},{x:-237,y:131,allignment:1},{x:-230,y:40,allignment:1}],this.CreateGameplayBg(),this.tempSocketConnectMsg=this.add.text(0,0,"Hello, World!",{fontFamily:"Poppins-Regular",fontSize:"48px",color:"#fff"}).setOrigin(.5).setVisible(!1),this.table=new y(this),this.upperPanel=new A(this),this.bottomPanel=new w(this),this.CreateChip(),this.CreatePlayerPlaceHolder(),this.CreatePopup(),this.resize(window.innerWidth,window.innerHeight),null!==p.GetLocalPlayerID()&&_.JoinQueue()}CreatePlayerPlaceHolder(){for(let t=0;t<this.playerPosArray.length;t++){const e=this.add.container(0,0),s=this.add.image(0,0,"user_base").setOrigin(.5),i=this.add.image(0,0,"sit_in_arrow").setOrigin(.5);e.add([s,i]),e.setSize(s.width,s.height),e.index=t,e.setInteractive({cursor:"pointer"}),e.on("pointerdown",(()=>this.OnPlaceHolderClicked(e)),this),this.placeHolderContainerArray.push(e)}}TempDebug(t){this.tempSocketConnectMsg.setVisible(!0),this.tempSocketConnectMsg.setText(t),setTimeout((()=>{this.tempSocketConnectMsg.setVisible(!1)}),2e3)}ShowHidePlaceHolder(t,e){this.placeHolderContainerArray[t].setVisible(e)}OnPlaceHolderClicked(t){this.currentSitIndexPressed=t.index,null===p.GetSeatIndex()&&this.buyinPopup.ShowBuyinPopup()}OnBuyInSuccess(){this.loadingPopup.ShowLoadingPopup(),this.buyInZeroPlayerFound?(_.UpdateChips(p.GetBuyInAmount()),this.loadingPopup.HideLoadingPopup()):_.SitIn(this.currentSitIndexPressed)}OnUpdateUserBalanceFromUpdateChips(){const t=p.GetUpdateChipsData();console.log("OnUpdateUserBalanceFromUpdateChips: ",t);for(let e=0;e<this.allPlayerArray.length;e++)this.allPlayerArray[e].playerId===t.user_id&&this.allPlayerArray[e].SetUserBalance(t.buy_in)}OnSitInAckSuccess(){0!==this.currentSitIndexPressed&&null===p.GetSeatIndex()&&(this.localSitinIndex=this.currentSitIndexPressed,this.sittingAnimPopup.PlayerPlacedAnim(this.currentSitIndexPressed,!0),this.ShowHideSittingAnimControl(!1),p.SetSeatIndex(this.currentSitIndexPressed))}SitOut(){const t=p.GetSeatIndex();null!==t&&_.SitOut(t)}ShowHideSittingAnimControl(t){!1===t&&this.placeHolderContainerArray.forEach(((t,e)=>{t.setVisible(!1),this.sittingAnimPopup.placedAnimContainerArray[e].setVisible(!0)}))}ControlPlayerAndEmptyPlaceVisibility(){const t=p.GetPlayersData(),e=p.GetLocalPlayerID();let s=null,i=null;s=t.findIndex((t=>t.user_id===e)),i=-1===s?0:t[s].seat_no;for(let t=0;t<this.placeHolderContainerArray.length;t++)this.ShowHidePlaceHolder(t,!0);for(let e=0;e<t.length;e++)if(t[e].sit_in){let s=t[e].seat_no-i;s<0&&(s+=6),this.allPlayerArray[e].playerContainer.setVisible(!0),this.ShowHidePlaceHolder(s,!1)}}ResizePlayerPlaceHolder(t,e,s){for(let i=0;i<this.placeHolderContainerArray.length;i++)this.placeHolderContainerArray[i].setScale(s),this.placeHolderContainerArray[i].setPosition(t/2+this.playerPosArray[i].x*s,e/2+this.playerPosArray[i].y*s)}TournamentStageOverPopupShow(t){this.winPopup.HideWinPopup(),this.tournamentStageOverPopup.ShowTournamentStageOverPopup(t)}TournamentStageOverPopupHide(){this.tournamentStageOverPopup.HideTournamentStageOverPopup()}TournamentStageOverCounterUpdate(t){this.tournamentStageOverPopup.UpdateStageOverCounter(t)}CreatePopup(){this.loadingPopup=new f(this),this.leavingPopup=new D(this),this.winPopup=new T(this),this.handCoolDownTimerPopup=new H(this),this.buyinPopup=new I(this),this.settingPopup=new R(this),this.tournamentStageOverPopup=new F(this),this.sittingAnimPopup=new O(this),this.alertPopup=new v(this)}CreateGameplayBg(){this.gameplayBg=this.add.image(0,0,"game_bg").setOrigin(0),this.versionControlText=this.add.text(0,0,`V  ${c.VERSION_TEXT}`,{fontFamily:"Poppins-Regular",fontSize:"25px",fill:"#FFF",fontStyle:"normal",align:"right"}).setOrigin(.5)}ResizeGameplayBg(t,e,s){this.gameplayBg.setDisplaySize(t,e),this.versionControlText.setScale(s),this.versionControlText.setPosition(50*s,e-100*s)}ShowAlertPopup(t){this.loadingPopup.HideLoadingPopup(),this.alertPopup.ShowAlertPopup(t)}CreateChip(){for(let t=0;t<this.playerPosArray.length;t++){const t=this.add.image(0,0,"poker_chip_popup");t.setVisible(!1),this.chipArray.push(t)}}ResizeChip(t,e,s){for(let i=0;i<this.chipArray.length;i++)this.chipArray[i].setScale(1*s),this.chipArray[i].setPosition(t/2+this.playerPosArray[i].x*s,e/2+this.playerPosArray[i].y*s)}ShowChipAnimation(t,e,s,i,a,n){e.setPosition(s,i),e.setVisible(!0),this.add.tween({targets:[e],delay:200,x:a,y:n,ease:"Linear",duration:400,callbackScope:this,onComplete:function(){e.setVisible(!1),this.UpdatePotAmount(t),this.allPlayerArray.forEach((t=>{t.ShowHideCurrentBetShowArea(!1,"")}))}})}CreatePlayer(){this.DestroyPlayer(),p.SetSeatIndex(null);const t=p.GetLocalPlayerID(),e=p.GetLocalPlayerData(),s=p.GetPlayersData();let i,a;try{if(null===this.localSitinIndex&&this.placeHolderContainerArray.forEach(((t,e)=>this.ShowHidePlaceHolder(e,!0))),!r.IsEmpty(s)){i=s.findIndex((e=>e.user_id===t)),a=-1===i?0:s[i].seat_no,p.SetLocalPlayerIndex(a);for(let t=0;t<s.length;t++)if(s[t].sit_in){let n=s[t].seat_no-a;n<0&&(n+=6);const o=new b(this,this.playerPosArray[n].x,this.playerPosArray[n].y);o.SetUserName(s[t].user_name),o.isIngame=s[t].inGame,s[t].profile.profile_pic?o.SetUserImageFromServer(s[t].profile.profile_pic):o.SetUserImageFromServer("profile_pic_0"),e.settings.table_theme.back_deck?o.SetBackCardImageFromServer(e.settings.table_theme.back_deck):o.SetBackCardImageFromServer("back_card_0"),e.settings.table_theme.front_deck?o.SetFrontCardImageFromServer(e.settings.table_theme.front_deck):o.SetFrontCardImageFromServer("front_card_0"),o.SetUserBalance(s[t].buy_in),o.SetPlayerId(s[t].user_id),o.SetPlayerSittingIndex(s[t].seat_no),o.SetPlayerPositionIndex(n),o.AdjustPlayerInfoSection(this.userInfoDataArray[n].x,this.userInfoDataArray[n].y,this.userInfoDataArray[n].nameBaseXoffset,this.userInfoDataArray[n].nameTextOrigin,this.userInfoDataArray[n].offsetXUserBalance),o.AdjustDecisionBase(this.userDecisionBaseArray[n].x,this.userDecisionBaseArray[n].y,this.userDecisionBaseArray[n].offsetX,this.userDecisionBaseArray[n].originX),o.AdjustDealerSection(this.userDealerPosArray[n].x,this.userDealerPosArray[n].y),o.AdjustBigBlindSection(this.userSmallBigBlindPosArray[n].x,this.userSmallBigBlindPosArray[n].y),o.AdjustSmallBlindSection(this.userSmallBigBlindPosArray[n].x,this.userSmallBigBlindPosArray[n].y),o.AdjustCurrentBetShowArea(this.CurrentBetShowAreaPosArray[n].x,this.CurrentBetShowAreaPosArray[n].y,this.CurrentBetShowAreaPosArray[n].allignment),i===t&&(p.SetSeatIndex(s[t].seat_no),o.AdjustCharacterSection(),o.AdjustDealerSection(this.userDealerPosArray[0].x+20,this.userDealerPosArray[0].y),o.AdjustBigBlindSection(this.userSmallBigBlindPosArray[0].x-20,this.userSmallBigBlindPosArray[0].y),o.AdjustSmallBlindSection(this.userSmallBigBlindPosArray[0].x-20,this.userSmallBigBlindPosArray[0].y),o.AdjustPlayerInfoSection(this.userInfoDataArray[0].x,this.userInfoDataArray[0].y+40,this.userInfoDataArray[0].nameBaseXoffset,this.userInfoDataArray[0].nameTextOrigin,this.userInfoDataArray[0].offsetXUserBalance),p.SetCurrentUserBalance(s[t].buy_in)),this.allPlayerArray.push(o),this.ShowHidePlaceHolder(n,!1)}null!==this.localSitinIndex&&(this.allPlayerArray.forEach((t=>{t.playerContainer.setVisible(!1)})),this.localSitinIndex=null),_.GetGameState(),this.loadingPopup.HideLoadingPopup(),this.resize(window.innerWidth,window.innerHeight)}}catch(t){console.log("Create player error: ",t)}}DestroyPlayer(){for(let t=0;t<this.allPlayerArray.length;t++)this.allPlayerArray[t].DestroyPlayer();this.allPlayerArray=[]}InactivePlayer(){const t=p.GetRoomDetailsData(),e=p.GetSitOutPlayerDetails().user_id,s=t.findIndex((t=>t.user_id===e));let i=null;const a=this.allPlayerArray.find((t=>t.playerId===e));a&&(i=a.GetPlayerSittingIndex()),-1!==s&&t.splice(s,1),this.CreatePlayer(),0!==i&&e===p.GetLocalPlayerID()&&(this.sittingAnimPopup.SitOutResizePlayerPlaceHolderAnim(window.innerWidth,window.innerHeight,this.currentNewScale,i),this.sittingAnimPopup.PlayerPlacedAnim(i,!1),this.ShowHideSittingAnimControl(!1)),e===p.GetLocalPlayerID()&&(this.buyInZeroPlayerFound=!1)}ShowSmallAndBigBlind(){this.handCoolDownTimerPopup.ShowHideHandCoolDownTimerPopup(!1),this.buyinPopup.HideBuyinPopup(),this.isShowHandCooldownTimer=!1;const t=p.GetSmallBlindPlayerId(),e=p.GetBigBlindPlayerId();p.GetSmallBigBlindPlayerData().blinds.forEach((t=>{if(t.is_dealer){const e=this.allPlayerArray.findIndex((e=>e.GetPlayerId()===t.user_id));this.allPlayerArray[e].ShowHideDelearIcon(!0)}}));const s=this.allPlayerArray.findIndex((e=>e.playerId===t)),i=this.allPlayerArray.findIndex((t=>t.playerId===e));-1!==s&&-1!==i&&(this.allPlayerArray[s].ShowHideSmallBlind(!0),this.allPlayerArray[i].ShowHideBigBlind(!0))}HideSmalAndBigBlind(){const t=p.GetSmallBlindPlayerId(),e=p.GetBigBlindPlayerId(),s=this.allPlayerArray.findIndex((e=>e.playerId===t)),i=this.allPlayerArray.findIndex((t=>t.playerId===e));-1!==s&&-1!==i&&(this.allPlayerArray[s].ShowHideSmallBlind(!1),this.allPlayerArray[i].ShowHideBigBlind(!1)),this.CreateCardForDistribution(),this.resize(window.innerWidth,window.innerHeight)}ShowBlindAmountDeductAnimation(){const t=p.GetUpdateBlindsData();let e;for(let s=0;s<this.allPlayerArray.length;s++)this.allPlayerArray[s].playerId===t.user_id&&(e=this.allPlayerArray[s].positionIndex,this.allPlayerArray[s].SetUserBalance(t.buy_in));null!==e&&(0===this.blindAnimCount?(this.ShowChipAnimation(t.pot,this.chipArray[e],this.chipArray[e].x,this.chipArray[e].y,this.table.tableContainer.x,Math.abs((this.table.potValueBase.y+20)*this.currentNewScale+this.table.tableContainer.y)),this.blindAnimCount++):1===this.blindAnimCount&&(this.ShowChipAnimation(t.pot,this.chipArray[e],this.chipArray[e].x,this.chipArray[e].y,this.table.tableContainer.x,Math.abs((this.table.potValueBase.y+20)*this.currentNewScale+this.table.tableContainer.y)),this.blindAnimCount=0))}CreateCardForDistribution(){this.cardAnimArray=[];const t=p.GetLocalPlayerData();let e=null;e=t.settings.table_theme.back_deck?r.GetCurrentBackCardFrame(t.settings.table_theme.back_deck):52;for(let t=0;t<2*this.allPlayerArray.length;t++){const t=this.add.sprite(0,0,"front_card_0").setOrigin(.5).setScale(.7);t.setFrame(e),this.cardAnimArray.push(t)}}ResizeCardForDistribution(t,e,s){for(let i=0;i<this.cardAnimArray.length;i++)this.cardAnimArray[i].setScale(.7*s),this.cardAnimArray[i].setPosition(t/2,e/2-(this.cardAnimArray[0].displayHeight+20)*s-1.5*i)}PlayCardDistributionAnimation(){for(let t=0;t<this.cardAnimArray.length;t++)t<this.cardAnimArray.length/2?this.CreateDistributeTween(t,this.cardAnimArray[t],this.allPlayerArray[t].playerContainer.x+this.allPlayerArray[t].userBackCard1.x*this.currentNewScale,this.allPlayerArray[t].playerContainer.y+this.allPlayerArray[t].userBackCard1.y*this.currentNewScale):this.CreateDistributeTween(t,this.cardAnimArray[t],this.allPlayerArray[t-this.cardAnimArray.length/2].playerContainer.x+this.allPlayerArray[t-this.cardAnimArray.length/2].userBackCard2.x*this.currentNewScale,this.allPlayerArray[t-this.cardAnimArray.length/2].playerContainer.y+this.allPlayerArray[t-this.cardAnimArray.length/2].userBackCard2.y*this.currentNewScale)}CreateDistributeTween(t,e,s,i){this.add.tween({targets:[e],delay:100*t,x:s,y:i,scaleX:.01,scaleY:.01,ease:"Linear",duration:200,callbackScope:this,onComplete:function(){t===this.cardAnimArray.length-1&&(this.HideDistributionAnimCard(),this.ShowUserCard())}})}HideDistributionAnimCard(){for(let t=0;t<this.cardAnimArray.length;t++)this.cardAnimArray[t].setVisible(!1)}ShowCardDistributionAnimation(){this.HideSmalAndBigBlind(),this.PlayCardDistributionAnimation()}ShowUserCard(){const t=p.GetLocalPlayerID(),e=p.GetPreFlopRoundData();if(e.player_details.user_id===t)for(let s=0;s<this.allPlayerArray.length;s++)this.allPlayerArray[s].GetPlayerId()===t?(this.allPlayerArray[s].SetCardValue(e.player_details.hands),this.allPlayerArray[s].ShowHideFrontCard(!0)):this.allPlayerArray[s].ShowHideBackCard(!0)}SetPlayerTimer(){const t=p.GetTimerData();for(let e=0;e<this.allPlayerArray.length;e++)this.allPlayerArray[e].GetPlayerId()===t.current_player_id&&(this.allPlayerArray[e].SetTimerValue(t.counter),this.totalTurnTime=t.actionTime)}ShowPlayerTurn(){const t=p.GetLocalPlayerID(),e=p.GetTurnData();if(this.bottomPanel.HideAllBetButton(),this.bottomPanel.HideRaiseSlider(),this.bottomPanel.HideAllRaisedPopupBetButton(),Object.keys(e).length>0){this.UpdatePotAmount(e.current_pot);for(let s=0;s<this.allPlayerArray.length;s++)this.allPlayerArray[s].HideGraphicsTimer(),this.allPlayerArray[s].GetPlayerId()===e.current_player_id?(this.allPlayerArray[s].ShowGraphicsTimer(e.timer_obj.end_timestamp),this.allPlayerArray[s].ShowHideCurrentBetShowArea(!0,e.current_bet),e.current_player_id===t?(this.bottomPanel.ShowAllBetButton(),this.bottomPanel.ShowCheckOrCallButton(e.is_check),this.bottomPanel.ShowAllInButtonForPlayer(e.is_all_in),this.bottomPanel.SetRaisedPopupButtonShowHideStatus(e),this.currentBet=e.current_bet,this.currentPlayerId=e.current_player_id,this.currentInHandBalance=e.current_player_buy_in,p.SetCurrentUserBalance(this.currentInHandBalance)):(this.bottomPanel.HideAllBetButton(),this.bottomPanel.HideRaiseSlider())):this.allPlayerArray[s].HideGraphicsTimer()}}PlaceBetForCurrentPlayer(){for(let t=0;t<this.allPlayerArray.length;t++)this.allPlayerArray[t].HideGraphicsTimer(),0!==this.currentBet&&-1!==this.currentBet||this.allPlayerArray[t].ShowHideCurrentBetShowArea(!1,""),this.allPlayerArray[t].UpdateCurrentBetText(this.currentBet);this.TempDebug(this.currentBet),_.PlaceBet(this.currentBet)}OnUpdatePotValue(){const t=p.GetUpdatePotValueData();let e;console.log("updatePotdata data: !",t);for(let s=0;s<this.allPlayerArray.length;s++)this.allPlayerArray[s].HideGraphicsTimer(),this.allPlayerArray[s].playerId===t.data.user_id&&(t.data.isFolded?(this.allPlayerArray[s].FoldPlayer(),this.bottomPanel.HideAllBetButton(),this.bottomPanel.HideRaiseSlider(),this.bottomPanel.HideAllRaisedPopupBetButton()):(this.allPlayerArray[s].SetUserBalance(t.data.buy_in),this.allPlayerArray[s].UpdateCurrentBetText(t.data.bet),e=this.allPlayerArray[s].positionIndex,setTimeout((()=>{this.allPlayerArray[s].ShowDecisionBase(t.data.bet_status)}),100)));if(null===e||t.data.isFolded||"check"===t.data.bet_status)setTimeout((()=>{this.allPlayerArray.forEach((t=>{t.ShowHideCurrentBetShowArea(!1,"")}))}),400);else if("called"===t.data.bet_status||"raised"===t.data.bet_status||"allin"===t.data.bet_status){const s={x:window.innerWidth/2+(this.playerPosArray[e].x+this.CurrentBetShowAreaPosArray[e].x)*this.currentNewScale,y:window.innerHeight/2+(this.playerPosArray[e].y+this.CurrentBetShowAreaPosArray[e].y)*this.currentNewScale};this.ShowChipAnimation(t.data.pot,this.chipArray[e],s.x,s.y,this.table.tableContainer.x,Math.abs((this.table.potValueBase.y+20)*this.currentNewScale+this.table.tableContainer.y))}t.data.pot_split?this.table.CreatePotSplitArea(t.data.sidepots):this.table.DestroyPotSplitArea()}UpdatePotAmount(t){this.table.SetPotValue(t)}ShowFlopRound(){for(let t=0;t<this.allPlayerArray.length;t++)this.allPlayerArray[t].HideGraphicsTimer(),this.allPlayerArray[t].HideDecisionBase();const t=p.GetDealFlopRoundData();this.table.ShowTableCard(t.community_cards,"dealFlop")}ShowTurnRound(){for(let t=0;t<this.allPlayerArray.length;t++)this.allPlayerArray[t].HideGraphicsTimer(),this.allPlayerArray[t].HideDecisionBase();const t=p.GetDealTurnRoundData();this.table.ShowTableCard(t.community_cards,"dealTurn")}ShowRiverRound(){for(let t=0;t<this.allPlayerArray.length;t++)this.allPlayerArray[t].HideGraphicsTimer(),this.allPlayerArray[t].HideDecisionBase();const t=p.GetDealRiverRoundData();this.table.ShowTableCard(t.community_cards,"dealRiver")}ShowShowDownRound(){this.ResetPlayers(),p.GetShowDownRoundData().players.forEach((t=>{const e=this.allPlayerArray.find((e=>e.GetPlayerId()===t.user_id));e&&(t.folded?this.HandleFoldedPlayer(e):this.HandleActivePlayer(e,t))}))}ResetPlayers(){this.allPlayerArray.forEach((t=>{t.HideGraphicsTimer()}))}HandleActivePlayer(t,e){e.hands.length>0&&(t.SetCardValue(e.hands),t.ShowHideFrontCard(!0),t.ShowHideBackCard(!1),t.HideDecisionBase()),t.SetUserBalance(e.buy_in),e.is_winner&&this.HandleWinner(t,e)}HandleFoldedPlayer(t){t.HideDecisionBase(),t.FoldPlayer()}HandleWinner(t,e){const s={posX:t.posX,posY:t.posY};let i=e.user_name;p.GetLocalPlayerID()===e.user_id&&(i="YOU"),t.SetWinData(i,e.win_amt,e.hand_rank,!0),this.winPopup.ShowWinPopup(),t.playerContainer.setDepth(4),this.table.HighLightWinCards(e.com_cards),this.table.WinChipAnim(s),e.hands.forEach(((e,s)=>{e.is_combination||t.UnselectedFrontCardWhenHighlight(s)}))}ShowReplayHand(){this.loadingPopup.ShowLoadingPopup();const t=p.GetReplayHandData();this.currentBet=0,this.ResetAllHandDataAndPlayer();for(let e=0;e<t.players.length;e++)!t.players[e].inGame&&t.players[e].buy_in<p.GetMinBuyInAmount()&&p.GetLocalPlayerID()===t.players[e].user_id&&(this.buyinPopup.ShowBuyinPopup(),this.buyInZeroPlayerFound=!0);this.loadingPopup.HideLoadingPopup()}ResetAllHandDataAndPlayer(){this.buyInZeroPlayerFound=!1,this.winPopup.HideWinPopup(),this.table.ResetHighLightWinCard(),this.table.DestroyPotSplitArea(),this.UpdatePotAmount(0),this.table.ShowHidePotBase(!1),this.bottomPanel.raiseAmount=0,this.bottomPanel.HideAllBetButton(),this.bottomPanel.HideRaiseSlider();for(let t=0;t<this.allPlayerArray.length;t++)this.allPlayerArray[t].HideGraphicsTimer(),this.allPlayerArray[t].playerContainer.setDepth(0),this.allPlayerArray[t].UnfoldPlayer(),this.allPlayerArray[t].HideDecisionBase(),this.allPlayerArray[t].ShowHideCurrentBetShowArea(!1,""),this.allPlayerArray[t].ShowHideDelearIcon(!1),this.allPlayerArray[t].ShowHideBigBlind(!1),this.allPlayerArray[t].ShowHideSmallBlind(!1),this.allPlayerArray[t].ShowHideFrontCard(!1),this.allPlayerArray[t].ShowHideBackCard(!1),this.allPlayerArray[t].HideOutline(),this.allPlayerArray[t].SetWinData("",0,"",!1)}ReconnectPlayer(){this.loadingPopup.ShowLoadingPopup();const t=p.GetReconnectData();this.UpdatePotAmount(t.current_pot),this.currentRound=t.current_round,this.table.ShowTableCard(t.community_cards,""),p.SetRoomName(t.room_name),p.SetGameId(t.game_id),p.SetPlayersData(t.players),this.CreatePlayer();for(let e=0;e<this.allPlayerArray.length;e++)this.allPlayerArray[e].HideGraphicsTimer(),this.allPlayerArray[e].GetPlayerId()===t.current_player_id?this.allPlayerArray[e].ShowGraphicsTimer(this.totalTurnTime):this.allPlayerArray[e].HideGraphicsTimer();"pre-flop"!==t.current_round&&this.ShowUserCard()}LeavingPopUpshow(){this.leavingPopup.ShowLeavingPopup()}SettingPopupshow(){this.settingPopup.ShowSettingPopup()}CreateRecieveMessage(){const t=p.GetRecieveMsgData().sender_user_id,e=p.GetRecieveMsgData().sender_user_name,s=p.GetRecieveMsgData().message;p.GetLocalPlayerID()===t?this.chatPopup.MakeLocalUserChatArea(1,"",s):this.chatPopup.MakeOtherUserChatArea(125,e,s)}GameStateData(){const t=p.GetGameStateData();if(this.winPopup.HideWinPopup(),this.table.ResetHighLightWinCard(),0!==t.board.length&&this.table.ShowTableCard(t.board,t.round,!0),0!==t.players.length&&null!==t.round&&"deal"!==t.round){this.table.SetPotValue(t.pot);const e=p.GetLocalPlayerID(),s=t.players.find((t=>t.user_id===e));let i=null;void 0!==s&&(i=s.hands),this.allPlayerArray.forEach((s=>{const a=s.GetPlayerId();t.players.forEach((t=>{t.user_id===s.GetPlayerId()&&(s.SetUserBalance(t.buy_in),t.inGame?s.playerContainer.setAlpha(1):s.playerContainer.setAlpha(.5),t.is_dealer&&s.ShowHideDelearIcon(!0))}));const n=t.players.find((t=>t.user_id===a));a===e?i.length>0&&(s.SetCardValue(i),s.ShowHideFrontCard(!0,!0)):n&&n.inGame?s.ShowHideBackCard(!0):s.ShowHideBackCard(!1)})),r.IsEmpty(t.curr_bet_obj)||(p.SetTurnData(t.curr_bet_obj),c.GAME_TURN_TIME=t.timer_details.actionTime,this.ShowPlayerTurn())}}SpectatorPreFlopBackCardShow(){null===p.GetSeatIndex()&&this.allPlayerArray.forEach((t=>{t.ShowHideBackCard(!0)}));const t=p.GetSmallBlindPlayerId(),e=p.GetBigBlindPlayerId(),s=this.allPlayerArray.findIndex((e=>e.playerId===t)),i=this.allPlayerArray.findIndex((t=>t.playerId===e));-1!==s&&-1!==i&&(this.allPlayerArray[s].ShowHideSmallBlind(!1),this.allPlayerArray[i].ShowHideBigBlind(!1))}HandCooldownTimer(t){this.isShowHandCooldownTimer||(this.isShowHandCooldownTimer=!0,this.handCoolDownTimerPopup.ShowHideHandCoolDownTimerPopup(!0,t.countdowntime)),this.handCoolDownTimerPopup.UpdateTimerValueText(t.countdowntime),"00:00:01"===t.countdowntime&&setTimeout((()=>{this.handCoolDownTimerPopup.ShowHideHandCoolDownTimerPopup(!1),this.buyinPopup.HideBuyinPopup(),this.isShowHandCooldownTimer=!1}),1e3)}LeaveTableViaJsBridge(){V.emit(c.POST_OR_GET_GAME_EVENTS.LEAVE_TABLE,p.GetTableId())}OnUserTimerEnd(){console.log("time end.............");const t=p.GetLocalPlayerID();p.GetTurnData().current_player_id===t&&(console.log("time end inside current plr............."),this.bottomPanel.HideAllBetButton(),this.bottomPanel.HideAllRaisedPopupBetButton())}resize(t,e){const s=r.GetScale(d.width,d.height,t,e);this.currentNewScale=s,this.ResizeGameplayBg(t,e,s),this.tempSocketConnectMsg.setScale(s),this.tempSocketConnectMsg.setPosition(t/2,50*s),this.table.resize(t,e,s),this.upperPanel.resize(t,e,s),this.bottomPanel.resize(t,e,s);for(let i=0;i<this.allPlayerArray.length;i++)this.allPlayerArray[i].resize(t,e,s);this.ResizeChip(t,e,s),this.ResizeCardForDistribution(t,e,s),this.ResizePlayerPlaceHolder(t,e,s),this.loadingPopup.resize(t,e,s),this.leavingPopup.resize(t,e,s),this.winPopup.resize(t,e,s),this.alertPopup.resize(t,e,s),this.handCoolDownTimerPopup.resize(t,e,s),this.buyinPopup.resize(t,e,s),this.settingPopup.resize(t,e,s),this.tournamentStageOverPopup.resize(t,e,s),this.sittingAnimPopup.ResizePlayerPlaceHolderAnim(t,e,s)}}class j extends a().Scene{constructor(){super("GameErrorScene"),this.errorMessage=""}preload(){this.load.image("error_logo","assets/images/errorScene/error_logo.png")}create(t){console.log("Error scene data !",t),t&&(t.auth?this.errorMessage=`Type=${t.type}\nAuth= presents`:this.errorMessage=`Type=${t.type}\nAuth= not presents`),this.game.events.on("resize",this.resize,this),this.errorLogo=this.add.image(Math.round(this.scale.width/2),Math.round(this.scale.height/4),"error_logo").setOrigin(.5),this.errorText=this.add.text(0,0,this.errorMessage,{fontFamily:"Poppins-Regular",fontSize:"65px",fill:"#FFF",fontStyle:"normal",align:"center"}).setOrigin(.5),this.resize(window.innerWidth,window.innerHeight)}resize(t,e){const s=r.GetScale(d.width,d.height,t,e);this.errorLogo.setScale(s),this.errorLogo.setPosition(t/2,e/2),this.errorText.setScale(s),this.errorText.setPosition(this.errorLogo.x,this.errorLogo.y+150*s)}}const M=new class{SetValueFromUserData(t){this.tableId=t.table_id,this.minBuyIn=Number(t.minBuyIn),this.maxBuyIn=Number(t.maxBuyIn),this.gameType=t.gametype,this.gameId=t.game_id,p.SetTableId(this.tableId),p.SetMinBuyInAmount(this.minBuyIn),p.SetMaxBuyInAmount(this.maxBuyIn),p.SetGameType(this.gameType),p.SetGameId(this.gameId)}constructor(){this.baseUrl="https://staginglocal.redappletech.com/pokerRecorderEngine",console.log("constructor handrecord!"),this.socket=(0,x.Ay)(this.baseUrl,{path:"/poker-engine-socket",query:{token:p.GetAuthToken()}}),"replay"===p.GetType()&&this.InitSocketListeners()}async InitSocketListeners(){this.socket.on("connect",(()=>{console.log("hand Socket successfully connected!")})),this.socket.on("disconnect",(()=>{console.log("Disconnected!")})),await this.GetUserData(),await this.GetRoomDetails(),await this.UpdateRoom(),await this.StartGame(),await this.UpdateBlinds(),await this.StartPreFlopRound(),await this.SendBetData(),await this.UpdateTimer(),await this.PotSplitData(),await this.UpdatePotValue(),await this.DealFlopRound(),await this.DealTurnRound(),await this.DealRiverRound(),await this.DealShowDownRound(),await this.LeaveTableSuccess()}async GetUserData(){this.socket.on("user-data",((t,e)=>{try{console.log("hand record user-data : ",t),t.error?c.game.events.emit("evtShowAlert",t.message):(this.SetValueFromUserData(t.data.user_game_data),p.SetLocalPlayerData(t.data),p.SetPlaybackID(t.data.playback_id),p.SetLocalPlayerId(t.data.user_id),p.SetLocalUserName(t.data.user_name),p.SetLocalPlayerRemoteId(t.data.remote_user_id)),e&&(e({success:!0,message:"User data processed successfully"}),setTimeout((()=>{c.game.events.emit("evtEmitStartReel")}),6e3))}catch(t){console.error("Error processing user data:",t),e&&e({success:!1,error:"Failed to process user data"})}}))}async StartReel(){const t={table_id:p.GetTableId(),game_id:p.GetGameId(),playback_id:p.GetPlaybackID()};console.log("hand record start-reel",t),this.socket.emit("start-reel",t,(t=>{console.log("Acknowledgement from server:",t),c.game.events.emit("evtSendFrameRate",t)}))}async GetRoomDetails(){this.socket.on("room-details",((t,e)=>{try{console.log("hand record room-details : ",t),t.error?c.game.events.emit("evtShowAlert",t.message):(p.SetRoomDetailsData(t.data),p.SetPlayersData(t.data),c.game.events.emit("evtCreatePlayer")),e&&e({success:!0,message:"room details processed successfully"})}catch(t){console.error("Error processing room details:",t),e&&e({success:!1,error:t})}}))}async UpdateRoom(){this.socket.on("update-room",((t,e)=>{try{console.log("hand record update-room : ",t),t.error?c.game.events.emit("evtShowAlert",t.message):!0===t.data.sit_in?(p.UpdateRoomDetailsData(t.data),c.game.events.emit("evtCreatePlayer")):(p.SetSitOutPlayerDetails(t.data),c.game.events.emit("evtInactivePlayer")),e&&e({success:!0,message:"update-room processed successfully"})}catch(t){console.error("Error processing update-room:",t),e&&e({success:!1,error:"Failed to process update-room"})}}))}async StartGame(){this.socket.on("start-game",((t,e)=>{try{console.log("hand record start-game : ",t),t.error?c.game.events.emit("evtShowAlert",t.message):(p.SetGameId(t.data.game_id),p.SetRoomName(t.data.room_name),p.SetSmallBigBlindPlayerData(t.data),p.SetSmallBlindPlayerId(t.data),p.SetBigBlindPlayerId(t.data),c.GAME_TURN_TIME=t.data.actionTime,c.game.events.emit("evtShowSmallAndBigBlind")),e&&e({success:!0,message:"start-game processed successfully"})}catch(t){console.error("Error processing start-game:",t),e&&e({success:!1,error:"Failed to process start-game"})}}))}async UpdateBlinds(){this.socket.on("update-blind",((t,e)=>{try{console.log("hand record update-blind : ",t),t.error?c.game.events.emit("evtShowAlert",t.message):(p.SetUpdateBlindsData(t.data),c.game.events.emit("evtShowBlindDeductAnimation")),e&&e({success:!0,message:"update-blind processed successfully"})}catch(t){console.error("Error processing update-blind:",t),e&&e({success:!1,error:"Failed to process update-blind"})}}))}async StartPreFlopRound(){this.socket.on("pre-flop",((t,e)=>{try{console.log("hand record pre-flop : ",t),t.error?c.game.events.emit("evtShowAlert",t.message):(p.SetPreFlopRoundData(t.data),c.game.events.emit("evtShowCardDistributionAnimation")),e&&e({success:!0,message:"pre-flop processed successfully"})}catch(t){console.error("Error processing pre-flop:",t),e&&e({success:!1,error:"Failed to process pre-flop"})}}))}async SendBetData(){this.socket.on("send-bet",((t,e)=>{try{console.log("hand record send-bet : ",t),t.error?c.game.events.emit("evtShowAlert",t.message):(p.SetTurnData(t.data),c.game.events.emit("evtChangeTurn")),e&&e({success:!0,message:"send-bet processed successfully"})}catch(t){console.error("Error processing send-bet:",t),e&&e({success:!1,error:"Failed to process send-bet"})}}))}async UpdateTimer(){this.socket.on("update-timer",((t,e)=>{try{console.log("hand record update-timer : ",t),t.error?c.game.events.emit("evtShowAlert",t.message):(p.SetTimerData(t),c.game.events.emit("evtShowTimer")),e&&e({success:!0,message:"update-timer processed successfully"})}catch(t){console.error("Error processing update-timer:",t),e&&e({success:!1,error:"Failed to process update-timer"})}}))}async UpdatePotValue(){this.socket.on("update-pot",((t,e)=>{try{console.log("hand record update-pot : ",t),t.error?c.game.events.emit("evtShowAlert",t.message):(p.SetUpdatePotValueData(t),c.game.events.emit("evtUpdatePotValue")),e&&e({success:!0,message:"update-pot processed successfully"})}catch(t){console.error("Error processing update-pot:",t),e&&e({success:!1,error:"Failed to process update-pot"})}}))}async PotSplitData(){this.socket.on("pot-split",((t,e)=>{try{console.log("hand record pot-split : ",t),t.error&&c.game.events.emit("evtShowAlert",t.message),e&&e({success:!0,message:"pot-split processed successfully"})}catch(t){console.error("Error processing pot-split:",t),e&&e({success:!1,error:"Failed to process pot-split"})}}))}async DealFlopRound(){this.socket.on("deal-flop",((t,e)=>{try{console.log("hand record deal-flop : ",t),t.error?c.game.events.emit("evtShowAlert",t.message):(p.SetDealFlopRoundData(t.data),c.game.events.emit("evtDealFlopRound")),e&&e({success:!0,message:"deal-flop processed successfully"})}catch(t){console.error("Error processing deal-flop:",t),e&&e({success:!1,error:"Failed to process deal-flop"})}}))}async DealTurnRound(){this.socket.on("deal-turn",((t,e)=>{try{console.log("hand record deal-turn : ",t),t.error?c.game.events.emit("evtShowAlert",t.message):(p.SetDealTurnRoundData(t.data),c.game.events.emit("evtDealTurnRound")),e&&e({success:!0,message:"deal-turn processed successfully"})}catch(t){console.error("Error processing deal-turn:",t),e&&e({success:!1,error:"Failed to process deal-turn"})}}))}async DealRiverRound(){this.socket.on("deal-river",((t,e)=>{try{console.log("hand record deal-river : ",t),t.error?c.game.events.emit("evtShowAlert",t.message):(p.SetDealRiverRoundData(t.data),c.game.events.emit("evtDealRiverRound")),e&&e({success:!0,message:"deal-river processed successfully"})}catch(t){console.error("Error processing deal-river:",t),e&&e({success:!1,error:"Failed to process deal-river"})}}))}async DealShowDownRound(){this.socket.on("show-down",((t,e)=>{try{console.log("hand record show-down : ",t),t.error?c.game.events.emit("evtShowAlert",t.message):(p.SetShowDownRoundData(t.data),c.game.events.emit("evtShowDownRound")),e&&e({success:!0,message:"show-down processed successfully"})}catch(t){console.error("Error processing show-down:",t),e&&e({success:!1,error:"Failed to process show-down"})}}))}async LeaveTableSuccess(){this.socket.on("leave-table",((t,e)=>{try{console.log("hand record leave-table : ",t),t.error&&c.game.events.emit("evtShowAlert",t.message),e&&e({success:!0,message:"leave-table processed successfully"})}catch(t){console.error("Error processing leave-table:",t),e&&e({success:!1,error:"Failed to process leave-table"})}}))}async PauseReel(){const t={playback_id:p.GetPlaybackID()};console.log("pause-reel !",t),this.socket.emit("pause-reel",t,(t=>{console.log("Acknowledgement from server:",t)}))}async ResumeReel(){const t={playback_id:p.GetPlaybackID()};console.log("resume-reel !",t),this.socket.emit("resume-reel",t,(t=>{console.log("Acknowledgement from server:",t)}))}async SetSpeed(t){const e={playback_id:p.GetPlaybackID(),speed_setting_value:t};console.log("set-speed !",e),this.socket.emit("set-speed",e,(t=>{console.log("Acknowledgement from server:",t)}))}async DisconnectSocket(){this.socket.disconnect()}};class E extends a().Scene{constructor(){super("ReplayHandScene")}init(){this.bottomPanel=null,this.table=null,this.allPlayerArray=[],this.blindAnimCount=0,this.chipArray=[],this.currentBet=0,this.currentRound=null,this.loadingPopup=null,this.winPopup=null,this.alertPopup=null,this.cardAnimArray=[],this.currentPlayerId=null,this.totalTurnTime=null,this.currentNewScale=null,this.placeHolderContainerArray=[],this.sittingAnimPopup=null,this.localSitinIndex=null,this.currentSitIndexPressed=null,this.buyInZeroPlayerFound=!1,this.isSpectator=!0}preload(){this.device=c.isMobile?"OnMobile":"OnDesktop"}create(t){this.game.events.on("resize",this.resize,this),this.game.events.on("evtCreatePlayer",this.CreatePlayer,this),this.game.events.on("evtInactivePlayer",this.InactivePlayer,this),this.game.events.on("evtShowSmallAndBigBlind",this.ShowSmallAndBigBlind,this),this.game.events.on("evtShowBlindDeductAnimation",this.ShowBlindAmountDeductAnimation,this),this.game.events.on("evtShowCardDistributionAnimation",this.ShowCardDistributionAnimation,this),this.game.events.on("evtChangeTurn",this.ShowPlayerTurn,this),this.game.events.on("evtShowTimer",this.SetPlayerTimer,this),this.game.events.on("evtUpdatePotValue",this.OnUpdatePotValue,this),this.game.events.on("evtDealFlopRound",this.ShowFlopRound,this),this.game.events.on("evtDealTurnRound",this.ShowTurnRound,this),this.game.events.on("evtDealRiverRound",this.ShowRiverRound,this),this.game.events.on("evtShowDownRound",this.ShowShowDownRound,this),this.game.events.on("evtShowAlert",this.ShowAlertPopup,this),this.game.events.on("evtSendFrameRate",this.PostFrameRateDataToPlatform,this),this.game.events.on("evtEmitStartReel",this.StartReel,this),this.playerPosArray=[{x:6,y:485},{x:-385,y:56},{x:-330,y:-421},{x:0,y:-684},{x:334,y:-421},{x:387,y:56}],this.userInfoDataArray=[{x:0,y:110,nameBaseXoffset:0,nameTextOrigin:.5,offsetXUserBalance:-15,distFactor:10},{x:0,y:110,nameBaseXoffset:0,nameTextOrigin:.5,offsetXUserBalance:-15,distFactor:10},{x:0,y:110,nameBaseXoffset:0,nameTextOrigin:.5,offsetXUserBalance:-15,distFactor:10},{x:0,y:110,nameBaseXoffset:0,nameTextOrigin:.5,offsetXUserBalance:-15,distFactor:10},{x:0,y:110,nameBaseXoffset:0,nameTextOrigin:.5,offsetXUserBalance:-15,distFactor:10},{x:0,y:110,nameBaseXoffset:0,nameTextOrigin:.5,offsetXUserBalance:-15,distFactor:10}],this.userDecisionBaseArray=[{x:-140,y:-40,offsetX:-35,originX:1},{x:-60,y:-220,offsetX:35,originX:0},{x:-60,y:-220,offsetX:35,originX:0},{x:110,y:40,offsetX:35,originX:0},{x:-60,y:-220,offsetX:35,originX:0},{x:-60,y:-220,offsetX:35,originX:0}],this.userDealerPosArray=[{x:65,y:45},{x:65,y:45},{x:65,y:45},{x:65,y:45},{x:65,y:45},{x:65,y:45}],this.userSmallBigBlindPosArray=[{x:-65,y:45},{x:-65,y:45},{x:-65,y:45},{x:-65,y:45},{x:-65,y:45},{x:-65,y:45}],this.CurrentBetShowAreaPosArray=[{x:0,y:-250,allignment:1},{x:230,y:40,allignment:0},{x:237,y:131,allignment:0},{x:0,y:227,allignment:0},{x:-237,y:131,allignment:1},{x:-230,y:40,allignment:1}],this.CreateGameplayBg(),this.table=new y(this),this.bottomPanel=new w(this),this.CreateChip(),this.CreatePlayerPlaceHolder(),this.CreatePopup(),this.GetDataFromPlatform(),!0===t.data&&this.StartReel(),this.resize(window.innerWidth,window.innerHeight)}StartReel(){setTimeout((()=>{M.StartReel()}),1e3)}CreateGameplayBg(){this.gameplayBg=this.add.image(0,0,"game_bg").setOrigin(0),this.versionControlText=this.add.text(0,0,`V  ${c.VERSION_TEXT}`,{fontFamily:"Poppins-Regular",fontSize:"25px",fill:"#FFF",fontStyle:"normal",align:"right"}).setOrigin(.5),this.replayBase=this.add.image(0,0,"replay_base");const t={fontFamily:"Poppins-Regular",fontSize:"32px",fill:"#FFFFFF",fontStyle:"normal",align:"center",wordWrap:{width:this.replayBase.width-10}};this.replayBaseText=this.add.text(this.replayBase.x+77,this.replayBase.y,"Replay",t).setOrigin(.5)}ResizeGameplayBg(t,e,s){this.gameplayBg.setDisplaySize(t,e),this.replayBase.setScale(s),this.replayBase.setPosition(44*s,166*s),this.replayBaseText.setScale(s),this.replayBaseText.setPosition(this.replayBase.x+77*s,this.replayBase.y),this.versionControlText.setScale(s),this.versionControlText.setPosition(50*s,e-100*s)}CreateChip(){for(let t=0;t<this.playerPosArray.length;t++){const t=this.add.image(0,0,"poker_chip_popup");t.setVisible(!1),this.chipArray.push(t)}}ResizeChip(t,e,s){for(let i=0;i<this.chipArray.length;i++)this.chipArray[i].setScale(1*s),this.chipArray[i].setPosition(t/2+this.playerPosArray[i].x*s,e/2+this.playerPosArray[i].y*s)}ShowChipAnimation(t,e,s,i,a,n){e.setPosition(s,i),e.setVisible(!0),this.add.tween({targets:[e],delay:200,x:a,y:n,ease:"Linear",duration:400,callbackScope:this,onComplete:function(){e.setVisible(!1),this.UpdatePotAmount(t),this.allPlayerArray.forEach((t=>{t.ShowHideCurrentBetShowArea(!1,"")}))}})}CreatePlayerPlaceHolder(){for(let t=0;t<this.playerPosArray.length;t++){const e=this.add.container(0,0),s=this.add.image(0,0,"user_base").setOrigin(.5),i=this.add.image(0,0,"sit_in_arrow").setOrigin(.5);e.add([s,i]),e.setSize(s.width,s.height),e.index=t,this.placeHolderContainerArray.push(e)}}ResizePlayerPlaceHolder(t,e,s){for(let i=0;i<this.placeHolderContainerArray.length;i++)this.placeHolderContainerArray[i].setScale(s),this.placeHolderContainerArray[i].setPosition(t/2+this.playerPosArray[i].x*s,e/2+this.playerPosArray[i].y*s)}ShowHidePlaceHolder(t,e){this.placeHolderContainerArray[t].setVisible(e)}CreatePopup(){this.loadingPopup=new f(this),this.leavingPopup=new D(this),this.winPopup=new T(this),this.sittingAnimPopup=new O(this),this.alertPopup=new v(this)}ShowAlertPopup(t){this.loadingPopup.HideLoadingPopup(),this.alertPopup.ShowAlertPopup(t)}CreatePlayer(){this.DestroyPlayer(),p.SetSeatIndex(null);const t=p.GetLocalPlayerID(),e=p.GetLocalPlayerData(),s=p.GetPlayersData();let i,a;if(null===this.localSitinIndex&&this.placeHolderContainerArray.forEach(((t,e)=>this.ShowHidePlaceHolder(e,!0))),!r.IsEmpty(s)){i=s.findIndex((e=>e.remote_user_id===t)),a=-1===i?0:s[i].seat_no,p.SetLocalPlayerIndex(a);for(let t=0;t<s.length;t++)if(s[t].sit_in){let n=s[t].seat_no-a;n<0&&(n+=6);const o=new b(this,this.playerPosArray[n].x,this.playerPosArray[n].y);o.SetUserName(s[t].user_name),o.isIngame=s[t].inGame,s[t].profile.profile_pic?o.SetUserImageFromServer(s[t].profile.profile_pic):o.SetUserImageFromServer("profile_pic_0"),e.settings.table_theme.back_deck?o.SetBackCardImageFromServer(e.settings.table_theme.back_deck):o.SetBackCardImageFromServer("back_card_0"),e.settings.table_theme.front_deck?o.SetFrontCardImageFromServer(e.settings.table_theme.front_deck):o.SetFrontCardImageFromServer("front_card_0"),o.SetUserBalance(s[t].buy_in),o.SetPlayerId(s[t].user_id),o.SetRemotePlayerId(s[t].remote_user_id),o.SetPlayerSittingIndex(s[t].seat_no),o.SetPlayerPositionIndex(n),o.AdjustPlayerInfoSection(this.userInfoDataArray[n].x,this.userInfoDataArray[n].y,this.userInfoDataArray[n].nameBaseXoffset,this.userInfoDataArray[n].nameTextOrigin,this.userInfoDataArray[n].offsetXUserBalance),o.AdjustDecisionBase(this.userDecisionBaseArray[n].x,this.userDecisionBaseArray[n].y,this.userDecisionBaseArray[n].offsetX,this.userDecisionBaseArray[n].originX),o.AdjustDealerSection(this.userDealerPosArray[n].x,this.userDealerPosArray[n].y),o.AdjustBigBlindSection(this.userSmallBigBlindPosArray[n].x,this.userSmallBigBlindPosArray[n].y),o.AdjustSmallBlindSection(this.userSmallBigBlindPosArray[n].x,this.userSmallBigBlindPosArray[n].y),o.AdjustCurrentBetShowArea(this.CurrentBetShowAreaPosArray[n].x,this.CurrentBetShowAreaPosArray[n].y,this.CurrentBetShowAreaPosArray[n].allignment),i===t&&(this.isSpectator=!1,p.SetSeatIndex(s[t].seat_no),o.AdjustCharacterSection(),o.AdjustDealerSection(this.userDealerPosArray[0].x+20,this.userDealerPosArray[0].y),o.AdjustBigBlindSection(this.userSmallBigBlindPosArray[0].x-20,this.userSmallBigBlindPosArray[0].y),o.AdjustSmallBlindSection(this.userSmallBigBlindPosArray[0].x-20,this.userSmallBigBlindPosArray[0].y),o.AdjustPlayerInfoSection(this.userInfoDataArray[0].x,this.userInfoDataArray[0].y+40,this.userInfoDataArray[0].nameBaseXoffset,this.userInfoDataArray[0].nameTextOrigin,this.userInfoDataArray[0].offsetXUserBalance),p.SetCurrentUserBalance(s[t].buy_in)),this.allPlayerArray.push(o),this.ShowHidePlaceHolder(n,!1)}null!==this.localSitinIndex&&(this.allPlayerArray.forEach((t=>{t.playerContainer.setVisible(!1)})),this.localSitinIndex=null),this.loadingPopup.HideLoadingPopup(),this.resize(window.innerWidth,window.innerHeight)}}DestroyPlayer(){for(let t=0;t<this.allPlayerArray.length;t++)this.allPlayerArray[t].DestroyPlayer();this.allPlayerArray=[]}InactivePlayer(){const t=p.GetRoomDetailsData(),e=p.GetSitOutPlayerDetails().user_id,s=t.findIndex((t=>t.user_id===e));let i=null;const a=this.allPlayerArray.find((t=>t.playerId===e));a&&(i=a.GetPlayerSittingIndex()),-1!==s&&t.splice(s,1),this.CreatePlayer(),0!==i&&e===p.GetLocalPlayerID()&&(this.sittingAnimPopup.SitOutResizePlayerPlaceHolderAnim(window.innerWidth,window.innerHeight,this.currentNewScale,i),this.sittingAnimPopup.PlayerPlacedAnim(i,!1),this.ShowHideSittingAnimControl(!1))}ShowSmallAndBigBlind(){const t=p.GetSmallBlindPlayerId(),e=p.GetBigBlindPlayerId();p.GetSmallBigBlindPlayerData().blinds.forEach((t=>{if(t.is_dealer){const e=this.allPlayerArray.findIndex((e=>e.GetPlayerId()===t.user_id));this.allPlayerArray[e].ShowHideDelearIcon(!0)}}));const s=this.allPlayerArray.findIndex((e=>e.playerId===t)),i=this.allPlayerArray.findIndex((t=>t.playerId===e));-1!==s&&-1!==i&&(this.allPlayerArray[s].ShowHideSmallBlind(!0),this.allPlayerArray[i].ShowHideBigBlind(!0))}HideSmalAndBigBlind(){const t=p.GetSmallBlindPlayerId(),e=p.GetBigBlindPlayerId(),s=this.allPlayerArray.findIndex((e=>e.playerId===t)),i=this.allPlayerArray.findIndex((t=>t.playerId===e));-1!==s&&-1!==i&&(this.allPlayerArray[s].ShowHideSmallBlind(!1),this.allPlayerArray[i].ShowHideBigBlind(!1)),this.CreateCardForDistribution(),this.resize(window.innerWidth,window.innerHeight)}ShowBlindAmountDeductAnimation(){const t=p.GetUpdateBlindsData();let e;for(let s=0;s<this.allPlayerArray.length;s++)this.allPlayerArray[s].remotePlayerId===t.remote_user_id&&(e=this.allPlayerArray[s].positionIndex,this.allPlayerArray[s].SetUserBalance(t.buy_in));null!==e&&(0===this.blindAnimCount?(this.ShowChipAnimation(t.pot,this.chipArray[e],this.chipArray[e].x,this.chipArray[e].y,this.table.tableContainer.x,Math.abs((this.table.potValueBase.y+20)*this.currentNewScale+this.table.tableContainer.y)),this.blindAnimCount++):1===this.blindAnimCount&&(this.ShowChipAnimation(t.pot,this.chipArray[e],this.chipArray[e].x,this.chipArray[e].y,this.table.tableContainer.x,Math.abs((this.table.potValueBase.y+20)*this.currentNewScale+this.table.tableContainer.y)),this.blindAnimCount=0))}CreateCardForDistribution(){this.cardAnimArray=[];const t=p.GetLocalPlayerData();let e=null;e=t.settings.table_theme.back_deck?r.GetCurrentBackCardFrame(t.settings.table_theme.back_deck):52;for(let t=0;t<2*this.allPlayerArray.length;t++){const t=this.add.sprite(0,0,"front_card_0").setOrigin(.5).setScale(.7);t.setFrame(e),this.cardAnimArray.push(t)}}ResizeCardForDistribution(t,e,s){for(let i=0;i<this.cardAnimArray.length;i++)this.cardAnimArray[i].setScale(.7*s),this.cardAnimArray[i].setPosition(t/2,e/2-(this.cardAnimArray[0].displayHeight+20)*s-1.5*i)}PlayCardDistributionAnimation(){for(let t=0;t<this.cardAnimArray.length;t++)t<this.cardAnimArray.length/2?this.CreateDistributeTween(t,this.cardAnimArray[t],this.allPlayerArray[t].playerContainer.x+this.allPlayerArray[t].userBackCard1.x*this.currentNewScale,this.allPlayerArray[t].playerContainer.y+this.allPlayerArray[t].userBackCard1.y*this.currentNewScale):this.CreateDistributeTween(t,this.cardAnimArray[t],this.allPlayerArray[t-this.cardAnimArray.length/2].playerContainer.x+this.allPlayerArray[t-this.cardAnimArray.length/2].userBackCard2.x*this.currentNewScale,this.allPlayerArray[t-this.cardAnimArray.length/2].playerContainer.y+this.allPlayerArray[t-this.cardAnimArray.length/2].userBackCard2.y*this.currentNewScale)}CreateDistributeTween(t,e,s,i){this.add.tween({targets:[e],delay:100*t,x:s,y:i,scaleX:.01,scaleY:.01,ease:"Linear",duration:200,callbackScope:this,onComplete:function(){t===this.cardAnimArray.length-1&&(this.HideDistributionAnimCard(),this.ShowUserCard())}})}HideDistributionAnimCard(){for(let t=0;t<this.cardAnimArray.length;t++)this.cardAnimArray[t].setVisible(!1)}ShowCardDistributionAnimation(){this.HideSmalAndBigBlind(),this.PlayCardDistributionAnimation()}ShowUserCard(){const t=p.GetLocalPlayerRemoteID();if(p.GetPreFlopRoundData().forEach((e=>{if(e.player_details.remote_user_id===t)for(let t=0;t<this.allPlayerArray.length;t++)this.allPlayerArray[t].GetRemotePlayerId()===e.player_details.remote_user_id?(this.allPlayerArray[t].SetCardValue(e.player_details.hands),this.allPlayerArray[t].ShowHideFrontCard(!0)):this.allPlayerArray[t].ShowHideBackCard(!0)})),this.isSpectator)for(let t=0;t<this.allPlayerArray.length;t++)this.allPlayerArray[t].ShowHideBackCard(!0)}SetPlayerTimer(){const t=p.GetTimerData();for(let e=0;e<this.allPlayerArray.length;e++)this.allPlayerArray[e].GetPlayerId()===t.current_player_id&&(this.allPlayerArray[e].SetTimerValue(t.counter),this.totalTurnTime=t.actionTime)}ShowPlayerTurn(){const t=p.GetLocalPlayerID(),e=p.GetTurnData();if(this.bottomPanel.HideAllBetButton(),this.bottomPanel.HideRaiseSlider(),this.bottomPanel.HideAllRaisedPopupBetButton(),Object.keys(e).length>0){this.UpdatePotAmount(e.current_pot);for(let s=0;s<this.allPlayerArray.length;s++)this.allPlayerArray[s].HideGraphicsTimer(),this.allPlayerArray[s].GetPlayerId()===e.current_player_id?e.isFolded?this.allPlayerArray[s].HideGraphicsTimer():(this.allPlayerArray[s].ShowGraphicsTimer(e.actionTime),this.allPlayerArray[s].ShowHideCurrentBetShowArea(!0,e.current_bet),e.current_player_id===t?(this.bottomPanel.SetRaisedPopupButtonShowHideStatus(e),this.currentBet=e.current_bet,this.currentPlayerId=e.current_player_id,this.currentInHandBalance=e.current_player_buy_in,p.SetCurrentUserBalance(this.currentInHandBalance)):(this.bottomPanel.HideAllBetButton(),this.bottomPanel.HideRaiseSlider())):this.allPlayerArray[s].HideGraphicsTimer()}}OnUpdatePotValue(){const t=p.GetUpdatePotValueData();let e;console.log("updatePotdata data: !",t);for(let s=0;s<this.allPlayerArray.length;s++)this.allPlayerArray[s].HideGraphicsTimer(),this.allPlayerArray[s].playerId===t.data.user_id&&(t.data.isFolded?(this.allPlayerArray[s].FoldPlayer(),this.bottomPanel.HideAllBetButton(),this.bottomPanel.HideRaiseSlider(),this.bottomPanel.HideAllRaisedPopupBetButton()):(this.allPlayerArray[s].SetUserBalance(t.data.buy_in),this.allPlayerArray[s].UpdateCurrentBetText(t.data.bet),e=this.allPlayerArray[s].positionIndex,setTimeout((()=>{this.allPlayerArray[s].ShowDecisionBase(t.data.bet_status)}),100)));if(null===e||t.data.isFolded||"check"===t.data.bet_status)setTimeout((()=>{this.allPlayerArray.forEach((t=>{t.ShowHideCurrentBetShowArea(!1,"")}))}),400);else if("called"===t.data.bet_status||"raised"===t.data.bet_status||"allin"===t.data.bet_status){const s={x:window.innerWidth/2+(this.playerPosArray[e].x+this.CurrentBetShowAreaPosArray[e].x)*this.currentNewScale,y:window.innerHeight/2+(this.playerPosArray[e].y+this.CurrentBetShowAreaPosArray[e].y)*this.currentNewScale};this.ShowChipAnimation(t.data.pot,this.chipArray[e],s.x,s.y,this.table.tableContainer.x,Math.abs((this.table.potValueBase.y+20)*this.currentNewScale+this.table.tableContainer.y))}t.data.pot_split?this.table.CreatePotSplitArea(t.data.sidepots):this.table.DestroyPotSplitArea()}UpdatePotAmount(t){this.table.SetPotValue(t)}ShowFlopRound(){for(let t=0;t<this.allPlayerArray.length;t++)this.allPlayerArray[t].HideGraphicsTimer(),this.allPlayerArray[t].HideDecisionBase();const t=p.GetDealFlopRoundData();this.table.ShowTableCard(t.community_cards,"dealFlop")}ShowTurnRound(){for(let t=0;t<this.allPlayerArray.length;t++)this.allPlayerArray[t].HideGraphicsTimer(),this.allPlayerArray[t].HideDecisionBase();const t=p.GetDealTurnRoundData();this.table.ShowTableCard(t.community_cards,"dealTurn")}ShowRiverRound(){for(let t=0;t<this.allPlayerArray.length;t++)this.allPlayerArray[t].HideGraphicsTimer(),this.allPlayerArray[t].HideDecisionBase();const t=p.GetDealRiverRoundData();this.table.ShowTableCard(t.community_cards,"dealRiver")}ShowShowDownRound(){this.ResetPlayers(),p.GetShowDownRoundData().players.forEach((t=>{const e=this.allPlayerArray.find((e=>e.GetPlayerId()===t.user_id));e&&(t.folded?this.HandleFoldedPlayer(e):this.HandleActivePlayer(e,t))})),setTimeout((()=>{this.PostStopPlayDataToPlatform(!0)}),2e3)}ResetPlayers(){this.allPlayerArray.forEach((t=>{t.HideGraphicsTimer()}))}HandleActivePlayer(t,e){e.hands.length>0&&(t.SetCardValue(e.hands),t.ShowHideFrontCard(!0),t.ShowHideBackCard(!1),t.HideDecisionBase()),t.SetUserBalance(e.buy_in),e.is_winner&&this.HandleWinner(t,e)}HandleFoldedPlayer(t){t.HideDecisionBase(),t.FoldPlayer()}HandleWinner(t,e){const s={posX:t.posX,posY:t.posY};let i=e.user_name;p.GetLocalPlayerID()===e.remote_user_id&&(i="YOU"),t.SetWinData(i,e.win_amt,e.hand_rank,!0),this.winPopup.ShowWinPopup(),t.playerContainer.setDepth(4),this.table.HighLightWinCards(e.com_cards),this.table.WinChipAnim(s),e.hands.forEach(((e,s)=>{e.is_combination||t.UnselectedFrontCardWhenHighlight(s)}))}GetDataFromPlatform(){V.listen(c.POST_OR_GET_GAME_EVENTS.PLAY_PAUSE,(t=>{console.log("GetDataFromPlatform PLAY_PAUSE: ",t),t?(this.allPlayerArray.forEach((t=>{t.timer.ResumeTimer()})),M.ResumeReel()):(this.allPlayerArray.forEach((t=>{t.timer.PauseTimer()})),M.PauseReel())})),V.listen(c.POST_OR_GET_GAME_EVENTS.PROGRESS,(t=>{console.log("GetDataFromPlatform PROGRESS: ",t)})),V.listen(c.POST_OR_GET_GAME_EVENTS.SKIP,(t=>{console.log("GetDataFromPlatform SKIP: ",t),M.SetSpeed(t)})),V.listen(c.POST_OR_GET_GAME_EVENTS.FORWARD,(t=>{console.log("GetDataFromPlatform FORWARD: ",t)})),V.listen(c.POST_OR_GET_GAME_EVENTS.BACKWARD,(t=>{console.log("GetDataFromPlatform BACKWARD: ",t)})),V.listen(c.POST_OR_GET_GAME_EVENTS.REPLAY,(t=>{console.log("GetDataFromPlatform REPLAY: ",t),t&&(this.scene.stop("ReplayHandScene"),this.scene.start("ReplayHandScene",{data:t}))})),V.listen(c.POST_OR_GET_GAME_EVENTS.REPLAY_END,(t=>{console.log("Socket Disconnected",t),M.DisconnectSocket()}))}PostFrameRateDataToPlatform(t){console.log("data send ",typeof t,t),V.emit(c.POST_OR_GET_GAME_EVENTS.FRAME_RATE,t)}PostStopPlayDataToPlatform(t){console.log("data send Stop ",typeof t,t),V.emit(c.POST_OR_GET_GAME_EVENTS.STOP,t)}resize(t,e){const s=r.GetScale(d.width,d.height,t,e);this.currentNewScale=s,this.ResizeGameplayBg(t,e,s),this.table.resize(t,e,s),this.bottomPanel.resize(t,e,s);for(let i=0;i<this.allPlayerArray.length;i++)this.allPlayerArray[i].resize(t,e,s);this.ResizeChip(t,e,s),this.ResizeCardForDistribution(t,e,s),this.ResizePlayerPlaceHolder(t,e,s),this.loadingPopup.resize(t,e,s),this.leavingPopup.resize(t,e,s),this.winPopup.resize(t,e,s),this.alertPopup.resize(t,e,s),this.sittingAnimPopup.ResizePlayerPlaceHolderAnim(t,e,s)}}var z=s(4413);c.isMobile=/iPhone|iPhoneX|iPod|iPad|BlackBerry|kindle|playbook|Windows Phone|Android/i.test(navigator.userAgent);const U={type:a().AUTO,parent:"pokertexasholdem",plugins:{scene:[{key:"SpinePlugin",plugin:window.SpinePlugin,sceneKey:"spine"},{key:"rexUI",plugin:z.A,mapping:"rexUI"}]},dom:{createContainer:!0},scale:{mode:a().Scale.RESIZE,width:window.innerWidth,height:window.innerHeight},scene:[m,G,E,j]};c.game=new(a().Game)(U),window.focus(),window.addEventListener("resize",(function(){const t=window.innerWidth,e=window.innerHeight;c.game.events.emit("resize",t,e)}),!1),window.poker={initialize:t=>{const e=document.getElementById(t.containerId);if(e){const t=document.createElement("div");t.innerHTML="Hello from Project B!",e.appendChild(t)}}}}}]);